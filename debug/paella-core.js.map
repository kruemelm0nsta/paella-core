{
  "version": 3,
  "sources": ["../node_modules/regenerator-runtime/runtime.js", "../src/js/Paella.js", "../src/js/core/PlayerResource.js", "../src/js/core/dom.js", "../plugin_directories.js", "../src/js/core/Plugin.js", "../src/js/core/Events.js", "../src/js/core/PopUp.js", "../src/js/core/utils.js", "../src/js/core/initFunctions.js", "../src/js/core/Loader.js", "../src/js/core/ErrorContainer.js", "../src/js/core/VideoLayout.js", "../src/js/core/VideoPlugin.js", "../src/js/core/CanvasPlugin.js", "../src/js/core/StreamProvider.js", "../src/js/core/Localization.js", "../src/js/core/ButtonPlugin.js", "../src/js/core/VideoContainer.js", "../src/js/core/PreviewContainer.js", "../src/js/core/ProgressIndicator.js", "../src/js/core/PlaybackBar.js", "../src/js/core/TimeLinePopUp.js", "../src/js/core/Data.js", "../src/js/captions/CaptionsPlugin.js", "../src/js/captions/CaptionsCanvas.js", "../src/js/core/EventLogPlugin.js", "../src/js/core/KeyShortcutPlugin.js", "../src/js/core/Log.js", "../src/js/default-dictionaries.js", "../src/debug.js"],
  "sourcesContent": ["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n", "import \"regenerator-runtime/runtime\";\nimport Plugin from \"./core/Plugin\";\n\nimport {\n    defaultLoadConfigFunction,\n    defaultGetVideoIdFunction,\n    defaultGetManifestUrlFunction,\n    defaultGetManifestFileUrlFunction,\n    defaultLoadVideoManifestFunction\n} from './core/initFunctions';\nimport { resolveResourcePath, setupAutoHideUiTimer, clearAutoHideTimer } from './core/utils';\nimport Loader from \"./core/Loader\";\nimport ErrorContainer from \"./core/ErrorContainer\";\nimport { registerPlugins, unregisterPlugins } from './core/Plugin';\nimport VideoContainer from './core/VideoContainer';\nimport PreviewContainer from './core/PreviewContainer';\nimport PlaybackBar from './core/PlaybackBar';\nimport Events, { bindEvent, triggerEvent, unregisterEvents } from './core/Events';\nimport TimeLinePopUp from './core/TimeLinePopUp';\nimport PopUp from './core/PopUp';\nimport Data from './core/Data';\nimport CaptionCanvas from './captions/CaptionsCanvas';\nimport { loadLogEventPlugins, unloadLogEventPlugins } from \"./core/EventLogPlugin\";\nimport { loadKeyShortcutPlugins, unloadKeyShortcutPlugins, getShortcuts } from \"./core/KeyShortcutPlugin\";\n\nimport {\n    defaultTranslateFunction,\n    defaultSetLanguageFunction,\n    defaultAddDictionaryFunction,\n    setTranslateFunction,\n    setGetLanguageFunction,\n    setSetLanguageFunction,\n    setAddDictionaryFunction,\n    addDictionary,\n    translate,\n    setLanguage,\n    getLanguage\n} from \"./core/Localization\";\n\nimport '../css/colors.css';\nimport '../css/base.css';\nimport { defaultGetLanguageFunction } from \"./core/Localization\";\n\nimport Log, { LOG_LEVEL } from \"./core/Log\";\n\nimport defaultDictionaries from \"./default-dictionaries.js\";\n\nconsole.log(Plugin);\n\nexport const PlayerState = {\n    UNLOADED: 0,\n    LOADING_MANIFEST: 1,\n    MANIFEST: 2,\n    LOADING_PLAYER: 3,\n    LOADED: 4,\n    UNLOADING_MANIFEST: 5,\n    UNLOADING_PLAYER: 6,\n    ERROR: 7\n};\n\nexport const PlayerStateNames = [\n    'UNLOADED',\n    'LOADING_MANIFEST',\n    'MANIFEST',\n    'LOADING_PLAYER',\n    'LOADED',\n    'UNLOADING_MANIFEST',\n    'UNLOADING_PLAYER',\n    'ERROR'\n];\n\nfunction buildPreview() {\n    const preview = resolveResourcePath(this, this.videoManifest?.metadata?.preview);\n    this._previewContainer = new PreviewContainer(this, this._containerElement, preview);\n}\n\nimport packageData from \"../../package.json\";\n\nexport default class Paella {\n\n    constructor(containerElement, initParams = {}) {\n        this._log = new Log(this);\n\n        this._packageData = packageData;\n\n        // The default log level before loading the configuration is\n        // VERBOSE, to ensure that all previous messages are displayed\n        this._log.setLevel(LOG_LEVEL.VERBOSE);\n\n        // Debug: create an array of all paella player instances\n        window.__paella_instances__ = window.__paella_instances__ || [];\n        window.__paella_instances__.push(this);\n\n        this.log.debug(\"New paella player instance\");\n        \n        \n        if (typeof(containerElement) === \"string\") {\n            containerElement = document.getElementById(containerElement);\n        }\n        \n        containerElement.classList.add(\"player-container\");\n        \n        this._containerElement = containerElement;\n        this._initParams = initParams;\n        \n        // Default initParams values:\n        this._initParams.manifestFileName = this._initParams.manifestFileName || \"data.json\";\n        this._initParams.loadConfig = this._initParams.loadConfig || defaultLoadConfigFunction;\n        this._initParams.getVideoId = this._initParams.getVideoId || defaultGetVideoIdFunction;\n        this._initParams.getManifestUrl = this._initParams.getManifestUrl || defaultGetManifestUrlFunction;\n        this._initParams.getManifestFileUrl = this._initParams.getManifestFileUrl || defaultGetManifestFileUrlFunction;\n        this._initParams.loadVideoManifest = this._initParams.loadVideoManifest || defaultLoadVideoManifestFunction;\n        this._initParams.customPluginContext = this._initParams.customPluginContext || [];\n        this._initParams.translateFunction = this._initParams.translateFunction || defaultTranslateFunction;\n        this._initParams.getLanguageFunction = this._initParams.getLanguageFunction || defaultGetLanguageFunction;\n        this._initParams.setLanguageFunction = this._initParams.setLanguageFunction || defaultSetLanguageFunction;\n        this._initParams.addDictionaryFunction = this._initParams.addDictionaryFunction || defaultAddDictionaryFunction;\n\n        this._initParams.loadDictionaries = this._initParams.loadDictionaries || async function(player) {\n            addDictionary(\"en\", {\n                \"Hello\": \"Hello\",\n                \"World\": \"World\"\n            });\n\n            addDictionary(\"es\", {\n                \"Hello\": \"Hola\",\n                \"World\": \"Mundo\"\n            });\n\n            setLanguage(navigator.language.substring(0,2));\n        }\n\n        setTranslateFunction(this._initParams.translateFunction);\n        setSetLanguageFunction(this._initParams.setLanguageFunction);\n        setGetLanguageFunction(this._initParams.getLanguageFunction);\n        setAddDictionaryFunction(this._initParams.addDictionaryFunction);\n\n        this._config = null;\n        this._videoId = null;\n        this._manifestUrl = null;\n        this._manifestFileUrl = null;\n        this._manifestData = null;\n        this._videoManifest = null;\n\n        // Load status flags\n        this._playerLoaded = false;\n\n        const resize = () => {\n            this.resize();\n        }\n        window.addEventListener(\"resize\", resize);\n        \n        this.containerElement.addEventListener(\"fullscreenchange\", () => {\n            triggerEvent(this, Events.FULLSCREEN_CHANGED, { status: this.isFullscreen });\n        });\n\n        this._playerState = PlayerState.UNLOADED; \n    }\n\n    get version() {\n        return this._packageData.version;\n    }\n\n    get pluginModules() {\n        return this.__pluginModules;\n    }\n\n    get log() {\n        return this._log;\n    }\n\n    get ready() {\n        return this._playerState === PlayerState.LOADED;\n    }\n\n    get state() {\n        return this._playerState;\n    }\n\n    get stateText() {\n        return PlayerStateNames[this.state];\n    }\n\n    get Events() {\n        return Events;\n    }\n\n    translate(word, keys = null) {\n        return translate(word, keys);\n    }\n\n    setLanguage(lang) {\n        setLanguage(lang);\n    }\n\n    getLanguage() {\n        return getLanguage();\n    }\n\n    addDictionary(lang,dict) {\n        addDictionary(lang,dict);\n    }\n\n    bindEvent(eventName, fn, unregisterOnUnload = true) {\n        bindEvent(this, eventName, data => fn(data), unregisterOnUnload);\n    }\n\n    getShortcuts() {\n        return getShortcuts(this);\n    }\n\n    getPlugin(name, type = null) {\n        if (type) {\n            const plugins = this.__pluginData__.pluginInstances[type];\n            if (plugins) {\n                return plugins.find(p => {\n                    if (p.name === name) {\n                        return p;\n                    }\n                });\n            }\n        }\n        else {\n            const result = {};\n            for (const t in this.__pluginData__.pluginInstances) {\n                const instances = this.__pluginData__.pluginInstances[t];\n                const p = instances.find(p => {\n                    if (p.name === name) {\n                        return p;\n                    }\n                });\n                if (p) {\n                    result[t] = p;\n                }\n            }\n            return result;\n        }\n    }\n\n    get hideUiTime() {\n        return this._hideUiTime;\n    }\n\n    set hideUiTime(val) {\n        this._hideUiTime = val;\n    }\n    \n    get containerSize() { return { w: this._containerElement.offsetWidth, h: this._containerElement.offsetHeight }; }\n    \n    get containerElement() { return this._containerElement; }\n\n    get initParams() { return this._initParams; }\n\n    // Status flags getters\n    // The configuration is loaded\n    get configLoaded() {\n        return this.configUrl !== null;\n    }\n\n    // The video manifest file is loaded\n    get videoManifestLoaded() {\n        return this.videoManifest !== null;\n    }\n\n    // The video streams are loaded\n    get videoLoaded() {\n        return this.videoContainer?.ready || false;\n    }\n\n    // The player user interface is loaded\n    get playerLoaded() {\n        return this._playerLoaded;\n    }\n\n    get configResourcesUrl() {\n        return this._initParams?.configResourcesUrl || 'config/';\n    }\n    \n    get configUrl() {\n        return this._initParams?.configUrl || 'config/config.json';\n    }\n\n    get config() {\n        return this._config;\n    }\n\n    get videoId() {\n        return this._videoId;\n    }\n\n    // Base URL where the video repository is located, for example \"repository/\"\n    get repositoryUrl() {\n        return this._initParams?.repositoryUrl || this.config?.repositoryUrl || \"\";\n    }\n\n    // Base URL where the video manifest file is located, for example \"repository/[video_id]\"\n    get manifestUrl() {\n        return this._manifestUrl;\n    }\n\n    // Video manifest file name, for example \"data.json\"\n    get manifestFileName() {\n        return this.config?.manifestFileName || this._initParams?.manifestFileName || \"\";\n    }\n\n    // Full path of the video manifest, for example \"repository/[video_id]/data.json\"\n    get manifestFileUrl() {\n        return this._manifestFileUrl;\n    }\n\n    // Video manifest file content (data.json)\n    get videoManifest() {\n        return this._videoManifest;\n    }\n\n    get previewContainer() {\n        return this._previewContainer;\n    }\n\n    get videoContainer() {\n        return this._videoContainer;\n    }\n\n    get playbackBar() {\n        return this._playbackBar;\n    }\n\n    get captionsCanvas() {\n        return this._captionsCanvas;\n    }\n\n    get data() {\n        return this._data;\n    }\n    \n    async loadManifest() {\n        if (this._playerState !== PlayerState.UNLOADED) {\n            throw new Error(this.translate(\"loadManifest(): Invalid current player state: $1\", [PlayerStateNames[this._playerState]]));\n        }\n        if (this._manifestLoaded) return;\n\n        try {\n\n            this._playerState = PlayerState.LOADING_MANIFEST;\n            this._manifestLoaded = true;\n    \n            this.log.debug(\"Loading paella player\");\n            this._config = await this.initParams.loadConfig(this.configUrl,this);\n    \n            const urlSearch = new URLSearchParams(window.location.search);\n            const urlParamLogLevel = urlSearch.get(\"logLevel\");\n            const logLevel = (Array.from(Object.keys(LOG_LEVEL)).indexOf(urlParamLogLevel) !== -1) ?\n                urlParamLogLevel :\n                this._config.logLevel || \"INFO\";\n            this._log.setLevel(logLevel);\n    \n            // Load localization dictionaries\n            await this._initParams.loadDictionaries(this);\n    \n            registerPlugins(this);\n    \n            // EventLogPlugin plugins are loaded first, so that all lifecycle events can be captured.\n            await loadLogEventPlugins(this);\n    \n            // KeyShortcutPlugins are loaded before UI load to allow the video load using shortcuts\n            await loadKeyShortcutPlugins(this);\n    \n            this._videoId = await this.initParams.getVideoId(this._config, this);\n    \n            this._manifestUrl = await this.initParams.getManifestUrl(this.repositoryUrl,this.videoId,this._config,this);\n            \n            this._manifestFileUrl = await this.initParams.getManifestFileUrl(this._manifestUrl, this.manifestFileName,this._config,this);\n    \n            this.log.debug(`Loading video with identifier '${this.videoId}' from URL '${this.manifestFileUrl}'`);\n    \n            this._videoManifest = await this.initParams.loadVideoManifest(this.manifestFileUrl,this._config,this);\n    \n            this.log.debug(\"Video manifest loaded:\");\n            this.log.debug(this.videoManifest);\n    \n            // Load data plugins\n            this._data = new Data(this);\n    \n            // Load default dictionaries\n            for (const lang in defaultDictionaries) {\n                const dict = defaultDictionaries[lang];\n                addDictionary(lang, dict);\n            }\n    \n            this._playerState = PlayerState.MANIFEST;\n            triggerEvent(this, Events.MANIFEST_LOADED);\n    \n            // The video preview is required to use the lazy load\n            if (!this.videoManifest?.metadata?.preview) {\n                await this.loadPlayer();\n            }\n            else {\n                buildPreview.apply(this);\n            }\n        }\n        catch (err) {\n            this._playerState = PlayerState.ERROR;\n            console.error(err);\n            this._errorContainer = new ErrorContainer(this, this.translate(err.message));\n            throw err;\n        }\n    }\n\n    async loadPlayer() {\n        try {\n            this._captionsCanvas = new CaptionCanvas(this, this._containerElement);\n\n            if (this._playerState !== PlayerState.MANIFEST) {\n                throw new Error(this.translate(\"loadPlayer(): Invalid current player state: $1\", [PlayerStateNames[this._playerState]]));\n            }\n    \n            this._playerState = PlayerState.LOADING_PLAYER;\n    \n            this._previewContainer?.removeFromParent();\n    \n            this._loader = new Loader(this);\n            \n            this._videoContainer = new VideoContainer(this, this._containerElement);\n    \n            await this.videoContainer.load(this.videoManifest?.streams);\n    \n            triggerEvent(this, Events.STREAM_LOADED);\n            \n            this._playbackBar = new PlaybackBar(this, this.containerElement);\n            \n            await this._playbackBar.load();\n            \n            // UI hide timer\n            this._hideUiTime = 5000;\n            setupAutoHideUiTimer(this);\n            \n            this._captionsCanvas.load();\n    \n            this._playerState = PlayerState.LOADED;\n    \n            triggerEvent(this, Events.PLAYER_LOADED);\n    \n    \n            this._loader.removeFromParent();\n            this._loader = null;\n        }\n        catch (err) {\n            this._playerState = PlayerState.ERROR;\n            if (this._loader) {\n                this._loader.removeFromParent();\n                this._loader = null;\n            }\n            this._errorContainer = new ErrorContainer(this, err.message);\n            throw err;\n        }\n    }\n\n    async load() {\n        switch (this.state) {\n        case PlayerState.UNLOADED:\n            await this.loadManifest();\n            await this.loadPlayer();\n            break;\n        case PlayerState.MANIFEST:\n            await this.loadPlayer();\n            break;\n        case PlayerState.LOADED:\n            break;\n        default:\n            throw new Error(this.translate(\"Could not load player: state transition in progress: $1\", [PlayerStateNames[this.state]]));\n        }\n    }\n\n    async unload() {\n        switch (this.state) {\n        case PlayerState.UNLOADED:\n            break;\n        case PlayerState.MANIFEST:\n            await this.unloadManifest();\n            break;\n        case PlayerState.LOADED:\n        case PlayerState.ERROR:\n            await this.unloadPlayer();        \n            await this.unloadManifest();\n            break;\n        default:\n            throw new Error(this.translate(\"Could not unload player: state transition in progress: $1\", [PlayerStateNames[this.state]]));\n        }\n    }\n    \n    async unloadManifest() {\n        if (this._playerState !== PlayerState.MANIFEST && this._playerState !== PlayerState.ERROR) {\n            throw new Error(this.translate(\"unloadManifest(): Invalid current player state: $1\", [PlayerStateNames[this._playerState]]));\n        }\n        if (this._errorContainer) {\n            this._errorContainer.removeFromParent();\n            this._errorContainer = null;\n        }\n        this._playerState = PlayerState.UNLOADING_MANIFEST;\n        \n        this.log.debug(\"Unloading paella player\");\n        \n        // EventLogPlugin plugins are loaded first, so that all lifecycle events can be captured.\n        await unloadLogEventPlugins(this);\n        \n        // KeyShortcutPlugins are loaded before UI load to allow the video load using shortcuts\n        await unloadKeyShortcutPlugins(this);\n        \n        await unregisterPlugins(this);\n        \n        this._manifestLoaded = false;\n        this._previewContainer?.removeFromParent();\n        this._playerState = PlayerState.UNLOADED;\n    }\n\n    async unloadPlayer() {\n        if (this._playerState !== PlayerState.LOADED && this._playerState !== PlayerState.ERROR) {\n            throw new Error(this.translate(\"unloadManifest(): Invalid current player state: $1\", [PlayerStateNames[this._playerState]]));\n        }\n        if (this._errorContainer) {\n            this._errorContainer.removeFromParent();\n            this._errorContainer = null;\n        }\n        this._playerState = PlayerState.UNLOADING_PLAYER;\n        \n        await this._videoContainer?.unload();\n        this._videoContainer = null;\n        \n        await this._playbackBar?.unload();\n        this._playbackBar = null;\n        \n        this._captionsCanvas?.unload();\n        this._captionsCanvas = null;\n        \n        clearAutoHideTimer(this);\n        \n        triggerEvent(this, Events.PLAYER_UNLOADED);\n        \n        PopUp.Unload();\n        \n        TimeLinePopUp.Unload(this);\n        \n        if (this.videoManifest?.metadata?.preview) {\n            buildPreview.apply(this);\n        }\n        \n        unregisterEvents(this);\n        this._playerState = PlayerState.MANIFEST;\n    }\n\n    async reload(onUnloadFn = null) {\n        switch (this.state) {\n        case PlayerState.UNLOADED:\n            break;\n        case PlayerState.MANIFEST:\n            await this.unloadManifest();\n            break;\n        case PlayerState.LOADED:\n            await this.unload();\n            break;\n        }\n        \n        if (typeof(onUnloadFn) === \"function\") {\n            await onUnloadFn();\n        }\n        await this.load();\n    }\n\n    async resize() {\n        this.videoContainer?.updateLayout();\n        this.playbackBar?.onResize();\n\n        if (this.videoContainer) {    \n            const getSize = () => {\n                return {\n                    w: this.videoContainer.element.offsetWidth,\n                    h: this.videoContainer.element.offsetHeight\n                }\n            };\n            triggerEvent(this, Events.RESIZE, { size: getSize() });\n\n            if (this._resizeEndTimer) {\n                clearTimeout(this._resizeEndTimer);\n            }\n\n            this._resizeEndTimer = setTimeout(() => {\n                triggerEvent(this, Events.RESIZE_END, { size: getSize() });\n            }, 1000);\n        }\n    }\n    \n    async hideUserInterface() {\n        if (!(await this.videoContainer?.paused())) {\n            this._uiHidden = true;\n            this.videoContainer?.hideUserInterface();\n            this.playbackBar?.hideUserInterface();\n            TimeLinePopUp.HideUserInterface(this);\n            triggerEvent(this, Events.HIDE_UI);\n        }\n    }\n    \n    async showUserInterface() {\n        this.videoContainer?.showUserInterface();\n        this.playbackBar?.showUserInterface();\n        TimeLinePopUp.ShowUserInterface(this);\n        this._uiHidden && triggerEvent(this, Events.SHOW_UI);\n        this._uiHidden = false;\n    }\n\n    // Playback functions\n    async play() {\n        if (!this.videoContainer) {\n            await this.loadPlayer();\n        }\n\n        await this.videoContainer.play();\n    }\n\n    async pause() {\n        await this.videoContainer?.pause();\n    }\n\n    async paused() {\n        if (!this.videoContainer) {\n            return true;\n        }\n        else {\n            return this.videoContainer.paused();\n        }\n    }\n\n    async stop() {\n        await this.videoContainer?.stop();\n    }\n    \n    async isFullScreenSupported() {\n        return this.containerElement.requestFullscreen !== null;\n    }\n    \n    async enterFullscreen() {\n        if (this.containerElement.requestFullscreen) {\n            return this.containerElement.requestFullscreen();\n        }\n    } \n\n    async exitFullscreen() {\n        if (document.exitFullscreen && this.isFullscreen) {\n            return document.exitFullscreen();\n        }\n    }\n    \n    get isFullscreen() {\n        return document.fullscreenElement === this.containerElement;\n    }\n}\n", "\nexport default class PlayerResource {\n    constructor(player) {\n        this._player = player;\n    }\n\n    get player() { return this._player; }\n}", "\nimport PlayerResource from './PlayerResource';\n\nexport function createElement({tag='div',attributes={},children=\"\",innerText=\"\",parent=null}) {\n    const result = document.createElement(tag);\n    result.innerText = innerText;\n    for (let key in attributes) {\n        result.setAttribute(key,attributes[key]);\n    }\n    result.innerHTML = children;\n    if (parent) {\n        parent.appendChild(result);\n    }\n    return result;\n}\n\nexport function createElementWithHtmlText(htmlText,parent = null) {\n    const tmpElem = document.createElement('div');\n    tmpElem.innerHTML = htmlText;\n    const result = tmpElem.children[0];\n    if (parent) {\n        parent.appendChild(result);\n    }\n    return result;\n}\n\nexport class DomClass extends PlayerResource {\n    constructor(player, {tag='div',attributes=[],children=\"\",parent=null}) {\n        super(player);\n        this._element = createElement({tag,attributes,children,parent});\n\n        // Add a getter as a shortcut to the DOM element tag\n        Object.defineProperty(this, tag, {\n            get: () => this._element\n        });\n    }\n\n    get element() {\n        return this._element;\n    }\n\n    get parent() {\n        return this._element.parentElement;\n    }\n    \n    hide() {\n        this.element.style.display = \"none\";\n    }\n    \n    show() {\n        this.element.style.display = \"block\";\n    }\n    \n    get isVisible() {\n        const style = window.getComputedStyle(this.element);\n        return  style.display !== \"none\" &&\n                style.display !== \"\";\n    }\n\n    setAttribute(name,value) {\n        this._element.setAttribute(name,value);\n    }\n\n    removeFromParent() {\n        this._element.parentElement?.removeChild(this._element);\n    }\n    \n    setParent(parent) {\n        this.removeFromParent();\n        parent.appendChild(this._element);\n    }\n}\n", "//import plugins from './src/js/plugins/**';\n//import layouts from './src/js/layouts/**';\n//import videoFormats from './src/js/videoFormats/**';\n//import canvas from './src/js/canvas/**';\n//import data from './src/js/data/**';\n\nconsole.log(\"Hello\");\n\nimport { DomClass } from './src/js/core/dom';\nimport { Plugin } from './src/js/core/Plugin';\nconsole.log(DomClass);\nconsole.log(Plugin);\n//import defaultShortcuts from './src/js/plugins/es.upv.paella.playPauseButton';\n\nexport default [\n    //defaultShortcuts\n    //plugins,\n    //layouts,\n    //videoFormats,\n    //canvas,\n    //data\n    //require.context(\"./src/js/plugins\", true, /\\.js/),\n    //require.context(\"./src/js/layouts\", true, /\\.js/),\n    //require.context(\"./src/js/videoFormats\", true, /\\.js/),\n    //require.context(\"./src/js/canvas\", true, /\\.js/),\n    //require.context(\"./src/js/data\", true, /\\.js/)\n]", "import PlayerResource from './PlayerResource';\nimport pluginRequireContext from '../../../plugin_directories';\n\nexport class Plugin extends PlayerResource {\n    constructor(player,config,name) {\n        super(player);\n        this._name = name;\n        this._config = config.plugins[this.name];\n    }\n\n    get config() { return this._config; }\n\n    get type() { return \"none\"; }\n\n    get order() { return this._config?.order || 0; }\n    \n    get description() { return this._config?.description || \"\"; }\n\n    get name() { return this._name; }\n\n    async isEnabled() {\n        return this.config?.enabled;\n    }\n\n    async load() {\n\n    }\n\n    async unload() {\n\n    }\n}\n\nexport default Plugin;\n\nexport function importPlugins(player,context) {\n    const config = player.config;\n    context.keys().forEach(key => {\n        const module = context(key);\n        const PluginClass = module.default;\n        const pluginInstance = new PluginClass(player, config, key.substring(2,key.length - 3));\n\n        // A note about not using `instanceof` in this section of code\n        // You cannot use `pluginInstance instanceof Plugin` because Babel changes the names of the classes when transpiling,\n        // and then this code will stop working when using from the distribution version of paella-core outside this library.\n        // This code is not 100% safe if you don't follow the plugin implementation rules,\n        // but if the documentation is followed correctly it should work without problems:\n        // - Plugins are defined in separate folders.\n        // - The folders contain only plugins or module definitions.\n        // - In plugins, the `type` attribute of a plugin always has to return a type.\n        // - In module definitions, the `moduleName` attribute always has to return something. \n        // - A module definition must never contain an attribute with the name `type`.\n        if (pluginInstance.type) {\n            const type = pluginInstance.type;\n            player.__pluginData__.pluginClasses[key] = PluginClass;\n            player.__pluginData__.pluginInstances[type] = player.__pluginData__.pluginInstances[type] || [];\n            player.__pluginData__.pluginInstances[type].push(pluginInstance);\n        }\n        else if (pluginInstance.moduleName) {\n            const name = pluginInstance.moduleName;\n            const version = pluginInstance.moduleVersion;\n            player.log.debug(`Plugin module imported: '${ name }': v${ version }`);\n            player.__pluginModules = player.__pluginModules || [];\n            player.__pluginModules.push(pluginInstance);\n        }\n    });\n}\n\nexport function registerPlugins(player) {\n    const config = player.config;\n    player.__pluginData__ = player.__pluginData__ || {\n        pluginClasses: [],\n        pluginInstances: {}\n    };\n\n    // If the s_pluginClasses array is not empty, the plugins have already been registered\n    if (player.__pluginData__.pluginClasses.length !== 0) return;\n\n    // Import plugins\n    pluginRequireContext.forEach(ctx => importPlugins(player, ctx));\n    // Custom plugins\n    player.initParams.customPluginContext.forEach(ctx => importPlugins(player, ctx));\n\n    player.log.debug(\"Plugins have been registered:\")\n}\n\nexport function unregisterPlugins(player) {\n    delete player.__pluginData__;\n}\n\nexport function getPluginsOfType(player,type) {\n    return player.__pluginData__?.pluginInstances[type];\n}\n\nexport async function loadPluginsOfType(player,type,onLoad=null,onPreload=null) {\n    // Sort plugins\n    player.__pluginData__.pluginInstances[type].sort((a,b) => a.order - b.order);\n    player.__pluginData__.pluginInstances[type].forEach(p => player.log.debug(`type: ${type}, name: ${p.name}`));\n\n    if (typeof(onPreload) !== \"function\") {\n        onPreload = async function(plugin) {\n            return await plugin.isEnabled();\n        }\n    }\n\n    for (const i in player.__pluginData__.pluginInstances[type]) {\n        const plugin = player.__pluginData__.pluginInstances[type][i];\n        const enabled = await onPreload(plugin);\n        if (enabled) {\n            if (plugin.__uiPlugin) {\n                const dictionaries = await plugin.getDictionaries();\n                if (typeof(dictionaries) === \"object\") {\n                    for (const lang in dictionaries) {\n                        const dict = dictionaries[lang];\n                        player.addDictionary(lang,dict);\n                    }\n                }\n            }\n            \n            if (typeof(onLoad) === \"function\") {\n                await onLoad(plugin);\n            }\n            await plugin.load();\n        }\n    }\n}\n\nexport async function unloadPluginsOfType(player,type) {\n    player.__pluginData__.pluginInstances[type]?.forEach(async plugin => {\n        await plugin.unload();\n    })\n}\n\n\n\n", "\nexport default {\n\tPLAY: \"paella:play\",\n\tPAUSE: \"paella:pause\",\n\tSTOP: \"paella:stop\",\n\tENDED: \"paella:ended\",\n\tSEEK: \"paella:seek\",\n\tFULLSCREEN_CHANGED: \"paella:fullscreenchanged\",\n\tVOLUME_CHANGED: \"paella:volumeChanged\",\n\tTIMEUPDATE: \"paella:timeupdate\",\n\tTRIMMING_CHANGED: \"paella:trimmingChanged\",\n\tCAPTIONS_CHANGED: \"paella:captionsChanged\",\n\tBUTTON_PRESS: \"paella:buttonPress\",\n\tSHOW_POPUP: \"paella:showPopUp\",\n\tHIDE_POPUP: \"paella:hidePopUp\",\n\tMANIFEST_LOADED: \"paella:manifestLoaded\",\n\tSTREAM_LOADED: \"paella:streamLoaded\",\n\tPLAYER_LOADED: \"paella:playerLoaded\",\n\tPLAYER_UNLOADED: \"paella:playerUnloaded\",\n\tRESIZE: \"paella:resize\",\n\tRESIZE_END: \"paella:resizeEnd\",\n\tLAYOUT_CHANGED: \"paella:layoutChanged\",\n\tPLAYBACK_RATE_CHANGED: \"paella:playbackRateChanged\",\n\tVIDEO_QUALITY_CHANGED: \"paella:videoQualityChanged\",\n\tHIDE_UI: \"paella:hideUI\",\n\tSHOW_UI: \"paella:showUI\"\n};\n\nexport function bindEvent(player, event, callback, unregisterOnUnload = true) {\n\tplayer.__eventListeners__ = player.__eventListeners__ || {};\n\tplayer.__eventListeners__[event] = player.__eventListeners__[event] || [];\n\tplayer.__eventListeners__[event].push({\n\t\tcallback,\n\t\tunregisterOnUnload\n\t});\n\treturn callback;\n}\n\nexport function triggerEvent(player, event, params = {}) {\n\tplayer.__eventListeners__ &&\n\tplayer.__eventListeners__[event] &&\n\tplayer.__eventListeners__[event].forEach(cbData => cbData.callback(params));\n}\n\nexport function triggerIfReady(player, event, params = {}) {\n\tif (player.ready) {\n\t\ttriggerEvent(player, event, params);\n\t}\n}\n\nexport function unregisterEvents(player) {\n\tif (!player.__eventListeners__) {\n\t\treturn;\n\t}\n\n\tfor (const event in player.__eventListeners__) {\n\t\tplayer.__eventListeners__[event] = player.__eventListeners__[event].filter(cbData => cbData.unregisterOnUnload == false);\n\t\tconsole.log(player.__eventListeners__[event]);\n\t}\n}\n", "import { DomClass, createElementWithHtmlText } from '../core/dom';\nimport Events, { triggerEvent } from '../core/Events';\n\nimport '../../css/PopUp.css';\n\nconst g_popUps = [];\n\nfunction placePopUp(player, anchorElement, contentElement) {\n\tif (anchorElement) {\n\t\tconst { top, left, right, bottom, width, height } = anchorElement.getBoundingClientRect();\n\t\tconst centerX = left + width / 2;\n\t\tconst centerY = top + height / 2;\n\t\tconst scroll =  document.body.scrollTop;\n\n\t\t// TODO: use the viewContainer element\n\t\tconst viewportWidth = window.innerWidth;\n\t\tconst viewportHeight = window.innerHeight;\n\t\tconst viewportCenterX = window.innerWidth / 2;\n\t\tconst viewportCenterY = window.innerHeight / 2;\n\t\t\n\t\tconst containerBounds = player.containerElement.getBoundingClientRect();\n\n\t\t\n\t\t// Decide where to attach the popup depending on the anchor position\n\t\tcontentElement.style.overflow = \"auto\";\n\t\tcontentElement.style.display = \"table\";\n\t\tcontentElement.style.left = \"\";\n\t\tcontentElement.style.right = \"\";\n\t\tcontentElement.style.bottom = \"\";\n\t\tcontentElement.style.top = \"\";\n\t\tif (viewportCenterX>centerX && viewportCenterY<=centerY) {\n\t\t\t// bottom left\n\t\t\tconst b = viewportHeight - (bottom - height);\n\t\t\tcontentElement.style.left = `${ left }px`;\n\t\t\tcontentElement.style.bottom = `${ b }px`;\n\t\t\tcontentElement.style.maxHeight = `calc(100vh - ${ b }px - 10px)`;\n\t\t}\n\t\telse if (viewportCenterX>centerX && viewportCenterY>centerY) {\n\t\t\t// top left quadrant\n\t\t\tcontentElement.style.left = `${ left }px`;\n\t\t\tcontentElement.style.top = `${ top + height + scroll }px`;\n\t\t\tcontentElement.style.maxHeight = `calc(100vh - ${ top + height }px - 10px)`;\n\t\t}\n\t\telse if (viewportCenterX<=centerX && viewportCenterY>centerY) {\n\t\t\t// top right quadrant\n\t\t\tcontentElement.style.right = `${ viewportWidth - right }px`;\n\t\t\tcontentElement.style.top = `${ top + height + scroll }px`;\n\t\t\tcontentElement.style.maxHeight = `calc(100vh - ${ top + height }px - 10px)`;\n\t\t}\n\t\telse if (viewportCenterX<=centerX && viewportCenterY<=centerY) {\n\t\t\t// bottom right quadrant\n\t\t\tconst b = viewportHeight - (bottom - height);\n\t\t\tcontentElement.style.right = `${ viewportWidth - right }px`;\n\t\t\tcontentElement.style.bottom = `${ b }px`;\n\t\t\tcontentElement.style.maxHeight = `calc(100vh - ${ b }px - 10px)`;\n\t\t}\n\t}\n}\n\nexport default class PopUp extends DomClass {\n\tstatic GetPopUps() {\n\t\treturn g_popUps;\n\t}\n\t\n\tstatic IsSomePopUpVisible() {\n\t\treturn g_popUps.some(p => p.isVisible);\n\t}\n\t\n\tstatic GetPopUp(id) {\n\t\treturn g_popUps.find(p => p.id === id);\n\t}\n\t\n\tstatic HideAllPopUps(onlyModal = true) {\n\t\tg_popUps.forEach(p => {\n\t\t\tif (onlyModal && p.isModal || !onlyModal) {\n\t\t\t\tp.hide();\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic Unload() {\n\t\tg_popUps.forEach(p => {\n\t\t\tp.removeFromParent();\n\t\t});\n\t\tg_popUps.slice(0);\n\t}\n\t\n\tconstructor(player, parent, anchorElement = null, contextObject = null, modal = true) {\n\t\tconst attributes = {\n\t\t\t\"class\": modal ? \"popup-container\" :  \"popup-container no-modal\"\n\t\t};\n\t\t\n\t\tconst children = `\n\t\t<div class=\"popup-content\"></div>\n\t\t`;\n\t\tsuper(player,{ attributes, children, parent });\n\t\tthis._modal = modal;\n\t\tthis._contextObject = contextObject;\n\n\t\tthis._id = Symbol(this);\n\t\tg_popUps.push(this);\n\t\t\n\t\tthis.element.addEventListener(\"click\", () => {\n\t\t\tthis.hide();\t\n\t\t});\n\t\t\n\t\tthis._contentElement = this.element.getElementsByClassName(\"popup-content\")[0];\n\t\t\n\t\tthis._anchorElement = anchorElement; \n\t\tif (anchorElement) {\n\t\t\tplacePopUp(player, anchorElement, this.contentElement);\n\t\t}\n\n\t\tthis.hide();\n\t}\n\n\tget isModal() {\n\t\treturn this._modal;\n\t}\n\n\tget contextObject() {\n        return this._contextObject;\n    }\n\t\n\tget id() {\n\t\treturn this._id;\n\t}\n\t\n\t// This is the popup window\n\tget contentElement() {\n\t\treturn this._contentElement;\n\t}\n\t\t\n\t// This is the content element you set with setContent()\n\tget content() {\n\t\treturn this._popupContent;\n\t}\n\t\n\tsetContent(domElement) {\n\t\tthis.contentElement.innerHTML = \"\";\n\t\tif (typeof(domElement) === \"string\") {\n\t\t\tthis._popupContent = createElementWithHtmlText(domElement, this.contentElement);\n\t\t}\n\t\telse {\n\t\t\tthis._popupContent = domElement;\n\t\t\tthis.contentElement.appendChild(domElement);\t\n\t\t}\n\t}\n\t\n\tshow(parent = null, parentPopUp = null) {\n\t\tif (this._anchorElement) {\n\t\t\tplacePopUp(this.player, this._anchorElement, this.contentElement);\n\t\t}\n\t\tif (parent) {\n\t\t\tthis.setParent(parent);\n\t\t}\n\t\tthis._parentPopUp = parentPopUp;\n\t\tif (parentPopUp) {\n\t\t\tparentPopUp.addChild(this);\n\t\t}\n\t\tsuper.show();\n\t\ttriggerEvent(this.player, Events.SHOW_POPUP, {\n\t\t\tpopUp: this,\n\t\t\tplugin: this.contextObject\n\t\t});\n\t}\n\n\thide() {\n\t\tif (this.isVisible) {\n\t\t\tif (this._children) {\n\t\t\t\tthis._children.forEach(child => child.hide());\n\t\t\t}\n\t\t\tif (this._parentPopUp) {\n\t\t\t\tthis._parentPopUp.removeChild(this);\n\t\t\t}\n\t\t\ttriggerEvent(this.player, Events.HIDE_POPUP, {\n\t\t\t\tpopUp: this,\n\t\t\t\tplugin: this.contextObject\n\t\t\t});\n\t\t}\n\t\tsuper.hide();\n\t}\n\n\t// Child popUp management\n\taddChild(childPopUp) {\n\t\tthis._children = this._children || [];\n\t\tif (!this._children.find(child => child === childPopUp)) {\n\t\t\tthis._children.push(childPopUp);\n\t\t}\n\t}\n\n\tremoveChild(childPopUp) {\n\t\tif (this._children) {\n\t\t\tthis._children = this._children.filter(child => child !== childPopUp);\n\t\t}\n\t\t\n\t}\n\n\tdestroy() {\n\t\tconst index = g_popUps.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tg_popUps.splice(index,1);\n\t\t\tthis.removeFromParent();\n\t\t}\n\t}\n}", "\nimport Events, { bindEvent } from '../core/Events';\nimport PopUp from '../core/PopUp';\n\nexport function loadSvgIcon(url) {\n    return new Promise((resolve,reject) => {\n        fetch(url)\n            .then((icon) => {\n                return icon.text()\n            })\n            .then(svg => {\n                resolve(svg);\n            })\n            .catch(err => reject(err));\n    })\n}\n\nexport function getUrlParameter(name) {\n    // Optional: implement this using a fallback to support IE11\n    const urlParams = new URLSearchParams(window.location.search);\n    return urlParams.has(name) ? urlParams.get(name) : null;\n}\n\nexport function getHashParameter(name) {\n    const search = window.location.hash.replace('#','?');\n    const urlParams = new URLSearchParams(search);\n    return urlParams.has(name) ? urlParams.get(name) : null;\n}\n\nexport function joinPath(parts, sep){\n    const separator = sep || '/';\n    parts = parts.map((part, index)=>{\n        if (index) {\n            part = part.replace(new RegExp('^' + separator), '');\n        }\n        if (index !== parts.length - 1) {\n            part = part.replace(new RegExp(separator + '$'), '');\n        }\n        return part;\n    })\n    return parts.join(separator);\n}\n\nexport function isAbsoluteUrl(src) {\n    // We consider that the URLs starting with / are absolute and local to this server\n    return new RegExp('^([a-z]+://|//)', 'i').test(src) || /^\\//.test(src);\n}\n\n// Returns the absolute path of a video manifest resource file.\n// If the path is absolute, it returns it unchanged.\nexport function resolveResourcePath(player,src) {\n    if (isAbsoluteUrl(src)) {\n        return src;\n    }\n    else {\n        return joinPath([player.manifestUrl, src]);\n    }\n}\n\nexport function setupAutoHideUiTimer(player, hideUiTimePropertyName = \"hideUiTime\") {\n    player.__hideTimer__ = null;\n    \n    const setupTimer = async () => {\n        if (player.__hideTimer__) {\n            clearTimeout(player.__hideTimer__);\n        }\n        await player.showUserInterface();\n        player.__hideTimer__ = setTimeout(async () => {\n            player.__hideTimer__ = null;\n            const visible = PopUp.IsSomePopUpVisible();\n            if (visible) {\n                player.log.debug(\"UI not hidden because there are visible pop ups\");\n                setupTimer();\n            }\n            else {\n                await player.hideUserInterface();\n            }\n        }, player[hideUiTimePropertyName]);\n    }\n    \n    player.containerElement.addEventListener(\"mousemove\", async (evt) => {\n        setupTimer();\n    });\n    \n    bindEvent(player, Events.PLAY, async () => {\n        setupTimer();\n    });\n    \n    bindEvent(player, Events.PAUSE, async () => {\n        await player.showUserInterface();\n    });\n    \n    bindEvent(player, Events.ENDED, async () => {\n        await player.showUserInterface();\n    });\n}\n\nexport function clearAutoHideTimer(player) {\n    if (player.__hideTimer__) {\n        clearTimeout(player.__hideTimer__);\n        delete player.__hideTimer__;\n    }\n}\n\nexport function secondsToTime(timestamp) {\n    const hours = Math.floor(timestamp / 60 / 60);\n    const minutes = Math.floor(timestamp / 60) - hours * 60;\n    const seconds = Math.floor(timestamp % 60);\n    return  (hours>0 ? hours.toString().padStart(2,'0') + \":\" : \"\") +\n            minutes.toString().padStart(2,'0') + \":\" +\n            seconds.toString().padStart(2,'0');\n}\n\nexport function timeToSeconds(timeString) {\n    const re = /(?:(\\d*):){0,1}(\\d*):(\\d*)/;\n    const result = re.exec(timeString);\n    if (result) {\n        const hours = result[1] !== undefined ? Number(result[1]) : 0;\n        const minutes = Number(result[2]);\n        const seconds = Number(result[3]);\n        return hours * 3600 + minutes * 60 + seconds;\n    }\n    return null;\n}\n\nexport function setCookie(cname, cvalue, exdays = 365) {\n    let d = new Date();\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n    let expires = `expires=${d.toUTCString()}`;\n    document.cookie = `${ cname }=${ cvalue };${ expires};path=/`; \n}\n\nexport function getCookie(cname) {\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for(let i = 0; i <ca.length; ++i) {\n      let c = ca[i];\n      while (c.charAt(0) == ' ') {\n        c = c.substring(1);\n      }\n      if (c.indexOf(name) == 0) {\n        return c.substring(name.length, c.length);\n      }\n    }\n    return \"\";\n}\n\nexport function loadStyle(url) {\n    return new Promise(resolve => {\n        const link = document.createElement('link');\n        link.setAttribute('rel','stylesheet');\n        link.setAttribute('href',url);\n        link.onload = () => resolve();\n        const head = document.getElementsByTagName('head')[0];\n        head.appendChild(link);\n    });\n}\n", "import { getUrlParameter, getHashParameter, joinPath } from '../core/utils';\n\nexport async function defaultLoadConfigFunction(configUrl,player) {\n    player.log.debug(\"Using default configuration loading function.\");\n    const response = await fetch(configUrl);\n    return response.json();\n}\n\nexport async function defaultGetVideoIdFunction(config,player) {\n    player.log.debug(\"Using default getVideoId function\");\n    return getHashParameter(\"id\") || getUrlParameter(\"id\");\n}\n\nexport async function defaultGetManifestUrlFunction(repoUrl,videoId,config,player) {\n    player.log.debug(\"Using default getManifestUrl function\");\n    return joinPath([repoUrl,videoId]);\n}\n\nexport async function defaultGetManifestFileUrlFunction(manifestUrl,manifestFileName,config,player) {\n    player.log.debug(\"Using default getManifestFileUrl function\");\n    return joinPath([manifestUrl,manifestFileName]);\n}\n\nexport async function defaultLoadVideoManifestFunction(videoManifestUrl,config,player) {\n    player.log.debug(\"Using default loadVideoManifest function\");\n    const response = await fetch(videoManifestUrl);\n    if (response.ok) {\n        return await response.json();\n    }\n    else {\n        throw new Error(player.translate(\"Error loading video manifest: $1 $2\", [response.status, response.statusText]));\n    }\n}\n", "\n\nimport { createElementWithHtmlText, DomClass } from './dom';\n\nimport ProgressIndicatorIcon from '../../icons/progress_indicator.svg';\n\nimport '../../css/Loader.css';\n\nexport default class Loader extends DomClass {\n    constructor(player) {\n        super(player, { parent: player.containerElement });\n\n        this.element.className = \"loader-container\";\n        \n        const icon = createElementWithHtmlText(`\n        <i>${ProgressIndicatorIcon}</i>`, this.element);\n    }\n}\n", "\n\nimport { createElementWithHtmlText, DomClass } from './dom';\n\nimport ErrorIcon from '../../icons/error.svg';\n\nimport '../../css/Error.css';\n\nexport default class ErrorContainer extends DomClass {\n    constructor(player, message = \"\") {\n        super(player, { parent: player.containerElement });\n\n        this.element.className = \"error-container\";\n        \n        createElementWithHtmlText(`\n            <div>\n                <i>${ErrorIcon}</i>\n                <p>${message}</p>\n            </div>`, this.element);\n    }\n}\n", "\nimport { getPluginsOfType } from \"./Plugin\";\nimport UserInterfacePlugin from \"./UserInterfacePlugin\";\n\n\nexport function getValidLayouts(player, streamData) {\n    // Find the valid layouts that matches the streamData content\n    const result = getPluginsOfType(player, \"layout\")\n        .filter(layout => layout.config && layout.canApply(streamData));\n    return result;\n}\n\nexport function getLayoutWithId(player, layoutId) {\n    const result = getPluginsOfType(player, \"layout\");\n    result.find(layout => {\n        player.log.debug(layout);\n        return layout.identifier === layoutId\n    });\n    return result;\n\n}\n\nexport function getValidContentIds(player, streamData) {\n    const validLayouts = getValidLayouts(player, streamData);\n    const result = [];\n    validLayouts.forEach(lo => {\n        result.push(...lo.getValidContentIds(streamData));\n    });\n    return result;\n}\n\nexport function getLayoutWithContentId(player, streamData, contentId) {\n    const layouts = getValidLayouts(player, streamData);\n    let result = null;\n    layouts.some(layout => {\n        if (layout.getValidContentIds(streamData).indexOf(contentId) !== -1) {\n            result = layout;\n            return true;\n        }\n    });\n    return result;\n}\n\nexport function getValidContentSettings(player, streamData) {\n    const validLayouts = getValidLayouts(player, streamData);\n    const validIds = getValidContentIds(player, streamData)\n    let result = []\n    validLayouts.forEach(lo => {\n        result = [...result,...lo.config.validContent];\n    });\n    \n    return result.filter(cfg => {\n        return validIds.indexOf(cfg.id) !== -1\n    });\n}\n\nexport function getLayoutStructure(player, streamData, contentId) {\n    const selectedLayout = getLayoutWithContentId(player, streamData, contentId);\n    if (selectedLayout) {\n        const structure = selectedLayout.getLayoutStructure(streamData, contentId);\n        structure.plugin = selectedLayout;\n        return structure;\n    }\n    return null;\n}\n\nexport default class VideoLayout extends UserInterfacePlugin {\n    \n    get type() { return \"layout\"; }\n\n    // Return the layout identifier, for example, presenter-presentation\n    get identifier() { return \"default\"; }\n\n    get icon() { return \"icon.png\"; }\n\n    // Return the array of valid content in the configuration of the plugin\n    get validContent() {\n        return this.config?.validContent;\n    }\n\n    get validContentIds() {\n        const result = [];\n        this.validContent.forEach(c => result.push(c.id));\n        return result;\n    }\n\n    // Gets the valid content ids that matches the streamData\n    getValidContentIds(streamData) {\n        const contentIds = [];\n        this.validContent.forEach(validContent => {\n            if (validContent.content.every(c => {\n                return streamData.some(sd => c === sd.content)\n            })) {\n                contentIds.push(validContent.id);\n            }\n        });\n\n        return contentIds;\n    }\n\n    // Get the valid stream data combination, according to the plugin configuration\n    // The result of this function must be an array of arrays with all the possible\n    // combinations. For example, for a dual stream layout and three elements in\n    // streamData that matches the valid content, the resulting valid streams must be:\n    // [\n    //      [streamA, streamB],\n    //      [streamA, streamC],\n    //      [streamC, streamB]   \n    // ]\n    getValidStreams(streamData) {\n        const validStreams = [];\n        this.validContent.forEach(validContent => {\n            let validStreamCombination = [];\n            if (validContent.content.every(c => {\n                return streamData.some(sd => {\n                    if (c === sd.content) {\n                        validStreamCombination.push(sd);\n                        return true;\n                    }\n                })\n            })) {\n                validStreams.push(validStreamCombination);\n            }\n        });\n\n        return validStreams;\n    }\n\n    canApply(streamData) {\n        return this.getValidStreams(streamData).length > 0;\n    }\n\n    getLayoutStructure(/* streamData, contentId */) {\n        return {};\n    }\n\n    // Add buttons to videos\n    // [\n    //      icon    (required)\n    //      click   (required)\n    //      tabIndex\n    //      ariaLabel\n    //      title\n    //      className\n    //      position (CanvasButtonPosition.LEFT, CanvasButtonPosition.CENTER, CanvasButtonPosition.RIGHT)\n    //]\n    getVideoCanvasButtons(content, video, videoCanvas) {\n        return []\n    }\n}\n", "\n\nimport { DomClass } from './dom';\nimport Plugin, { getPluginsOfType, loadPluginsOfType, unloadPluginsOfType } from './Plugin';\n\n\nexport default class VideoPlugin extends Plugin {\n    get type() { return \"video\"; }\n\n    get streamType() { return \"mp4\"; }\n\n    isCompatible(/* streamData */) {\n        return false;\n    }\n\n    async getVideoInstance(/*playerContainer, isMainAudio*/) {\n        return null;\n    }\n}\n\nconst g_enabledVideoPlugins = [];\n\nexport async function loadVideoPlugins(player) {\n    await loadPluginsOfType(player, \"video\", (plugin) => {\n        g_enabledVideoPlugins.push(plugin);\n    });\n}\n\nexport async function unloadVideoPlugins(player) {\n    g_enabledVideoPlugins.slice(0);\n}\n\nexport function getVideoPlugins(player) {\n    if (g_enabledVideoPlugins.length === 0) {\n        throw Error(\"No video plugins loaded. Note that `loadVideoPlugins()` must to be called before using `getVideoPlugins()`.\")\n    }\n    return g_enabledVideoPlugins;\n}\n\nexport function getVideoPlugin(player, streamData) {\n    const videoPlugins = getVideoPlugins(player);\n    let plugin = null;\n    \n    videoPlugins.some(p => {\n        if (p.isCompatible(streamData)) { // TODO: Implement this condition\n            plugin = p;\n            return true;\n        }\n    });\n    return plugin;\n}\n\nexport class Video extends DomClass {\n    constructor(tag, player, parent) {\n        const attributes = {\n            \"class\": \"video-player\"\n        };\n        super(player, {tag, attributes, parent});\n\n        this._streamProvider = null;\n        this._streamData = null;\n        this._ready = false;\n    }\n\n    get streamData() {\n        return this._streamData;\n    }\n\n    get ready() {\n        return this._ready;\n    }\n\n    async load(streamData, streamProvider) {\n        this._streamProvider = streamProvider;\n        this._streamData = streamData;\n        const result = await this.loadStreamData(streamData);\n        return result;\n    }\n\n    get isMainAudioPlayer() {\n        return this._streamProvider.mainAudioPlayer === this;\n    }\n    \n    // The player must call _videoEndedCallback when the video is ended\n    onVideoEnded(fn) {\n        this._videoEndedCallback = fn;\n    }\n\n    // The video instance must implement the following functions and properties\n    async play() {\n        return false;\n    }\n    \n    async pause() {\n        return false;\n    }\n\n    async duration() {\n        return -1;\n    }\n    \n    get currentTimeSync() {\n        return -1;\n    }\n\n    async currentTime() {\n        return -1;\n    }\n\n    async setCurrentTime(/* t */) {\n        return false;\n    }\n\n    async volume() {\n        return -1;\n    }\n\n    async setVolume(/* v */) {\n        return false;\n    }\n\n    async paused() {\n        return true;\n    }\n\n    async playbackRate() {\n        return -1;\n    }\n\n    async setPlaybackRate() {\n        return false;\n    }\n\n    async getQualities() {\n        return null;\n    }\n\n    async setQuality(/* q */) {\n        return false;\n    }\n\n    get currentQuality() {\n        return null;\n    }\n\n    async getDimensions() {\n        return null;\n    }\n    \n    async supportsMultiaudio() {\n        return false;\n    }\n\n    async getAudioTracks() {\n        return null;\n    }\n\n    async setCurrentAudioTrack() {\n\n    }\n\n    get currentAudioTrack() {\n        return null;\n    }\n\n    async loadStreamData(streamData) {\n        return false;\n    }\n\n    async enable() {\n    }\n\n    async disable() {\n    }\n}\n", "import Plugin, { getPluginsOfType, loadPluginsOfType } from '../core/Plugin';\nimport { DomClass } from '../core/dom';\nimport { createElement, createElementWithHtmlText } from './dom';\n\nimport \"../../css/VideoCanvas.css\";\n\nconst g_enabledCanvasPlugins = [];\nexport async function loadCanvasPlugins(player) {\n    await loadPluginsOfType(player, \"canvas\", (plugin) => {\n        g_enabledCanvasPlugins.push(plugin);\n    });\n}\n\nexport async function unloadCanvasPlugins(player) {\n    g_enabledCanvasPlugins.slice(0);\n}\n\nexport function getCanvasPlugin(player, stream) {\n    if (g_enabledCanvasPlugins.length === 0) {\n        throw Error(\"No canvas plugins loaded. Note that `loadCanvasPlugins()` must to be called before use `getCanvasPlugins()`\");\n    }\n    let plugin = null;\n\n    g_enabledCanvasPlugins.some(p => {\n        if (p.isCompatible(stream)) {\n            plugin = p;\n            return true;\n        }\n    });\n\n    return plugin;\n}\n\nexport const CanvasButtonPosition = {\n    LEFT: 'left',\n    CENTER: 'center',\n    RIGHT: 'right'\n};\n\nconst addButton = function({\n    icon,\n    tabIndex,\n    ariaLabel,\n    title,\n    className,\n    position = CanvasButtonPosition.CENTER,\n    click\n}) {\n    if (!icon) {\n        throw new Error(\"Error in video layout definition. getVideoCanvasButtons(): missing 'icon' attribute.\");\n    }\n    if (!click) {\n        throw new Error(\"Error in video layout definition. getVideoCanvasButtons(): missing 'click' function.\");\n    }\n    let attributes = `class=\"align-${position}${ className ? \" \" + className : \"\"}\"`;\n    if (ariaLabel) {\n        attributes += ` aria-label=\"${ariaLabel}\"`;\n    }\n    if (title) {\n        attributes += ` title=\"${title}\"`;\n    }\n    if (tabIndex !== undefined) {\n        attributes += ` tabindex=\"${tabIndex}\"`;\n    }\n    const btn = createElementWithHtmlText(`\n        <button ${attributes}><i class=\"button-icon\" style=\"pointer-events: none\">${ icon }</i></button>\n    `);\n    this.buttonsArea.appendChild(btn);\n    btn.addEventListener('click', (evt) => {\n        click(evt);\n        evt.stopPropagation();\n        return false;\n    });\n    return btn;\n}\n\nexport const addVideoCanvasButton = (layoutStructure, canvas, video) => {\n    const plugin = layoutStructure.plugin;\n    const buttons = plugin.getVideoCanvasButtons(layoutStructure, video.content, video, canvas);\n    buttons.forEach(btnData => {\n        addButton.apply(canvas, [btnData]);\n    })\n}\n\nexport class Canvas extends DomClass {\n    constructor(tag, player, parent) {\n        super(player, { tag, parent });\n        this.element.className = \"video-canvas\";\n\n        this._userArea = null;\n\n        this._buttonsArea = createElementWithHtmlText(`\n        <div class=\"button-area\">\n        </div>\n        `, this.element);\n    }\n\n    async loadCanvas(player) {\n        throw Error(`${this.name}: loadCanvas() not implemented`);\n    }\n\n    get userArea() {\n        if (!this._userArea) {\n            this._userArea = document.createElement('div');\n            this._userArea.className = \"user-area\";\n            this.element.appendChild(this._userArea);\n        }\n        return this._userArea;\n    }\n\n    get buttonsArea() {\n        return this._buttonsArea;\n    }\n\n    showButtons() {\n        this.buttonsArea.style.display = null;\n    }\n\n    hideButtons() {\n        this.buttonsArea.style.display = \"none\";\n    }\n}\n\nexport default class CanvasPlugin extends Plugin {\n    get type() { return \"canvas\"; }\n\n    get canvasType() { return \"\"; }\n\n    isCompatible(stream) {\n        if (Array.isArray(stream?.canvas)) {\n            return stream.canvas.indexOf(this.canvasType) !== -1;\n        }\n        else {\n            return stream.canvas === this.canvasType;\n        }\n    }\n\n    getCanvasInstance(videoContainer) {\n        throw Error(`${this.name} canvas plugin: getCanvasInstance() not implemented`);\n    }\n}\n", "import PlayerResource from '../core/PlayerResource';\nimport { getVideoPlugin } from '../core/VideoPlugin';\nimport { loadCanvasPlugins, getCanvasPlugin, unloadCanvasPlugins } from '../core/CanvasPlugin';\nimport Events, { triggerEvent, triggerIfReady } from '../core/Events';\n\nexport default class SteramProvider extends PlayerResource {\n\tconstructor(player, videoContainer) {\n\t\tsuper(player, videoContainer);\n\t\tthis._videoContainer = videoContainer;\n\t\tthis._streamData = null;\n\t\tthis._streams = null;\n\t\tthis._players = [];\n\t\t\n\t\tthis._mainAudioPlayer = null;\n\t\t\n\t\tthis._streamSyncTimer = null;\n\t\t\n\t\tthis._trimming = {\n\t\t\tenabled: false,\n\t\t\tstart: 100,\n\t\t\tend: 200\n\t\t}\n\t}\n\t\n\tasync load(streamData) {\n\t\tthis._streamData = streamData;\n\t\tthis._streams = {};\n\t\t\n\t\tlet mainAudioContent = this.player.config.defaultAudioStream || \"presenter\";\n\t\tstreamData.some(s => {\n\t\t\tif (s.role === \"mainAudio\") {\n\t\t\t\tmainAudioContent = s.content;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\n\t\t\n\t\tthis.player.log.debug(\"Finding compatible video plugins\");\n\n\t\tawait loadCanvasPlugins(this.player);\n\t\t\n\t\t// Find video plugins for each stream\n\t\tthis._streamData.forEach(stream => {\n\t\t\tconst canvasPlugin = getCanvasPlugin(this.player, stream);\n\t\t\tif (!canvasPlugin) {\n\t\t\t\tthrow Error(`Canvas plugin not found: ${ stream.canvas }`);\n\t\t\t}\n\n\t\t\tconst isMainAudio = stream.content === mainAudioContent;\n\t\t\tconst videoPlugin = getVideoPlugin(this.player, stream);\n\t\t\tif (!videoPlugin) {\n\t\t\t\tthrow Error(`Incompatible stream type: ${ stream.content }`);\n\t\t\t}\n\t\t\t\n\t\t\tthis._streams[stream.content] = {\n\t\t\t\tstream,\n\t\t\t\tisMainAudio,\n\t\t\t\tvideoPlugin,\n\t\t\t\tcanvasPlugin\n\t\t\t}\n\t\t})\n\t\t\n\t\tlet videoEndedEventTimer = null;\n\t\tfor (const content in this._streams) {\n\t\t\tconst s = this._streams[content];\n\t\t\ts.canvas = await s.canvasPlugin.getCanvasInstance(this._videoContainer);\n\t\t\ts.player = await s.videoPlugin.getVideoInstance(s.canvas.element, s.isMainAudio);\n\t\t\tif (mainAudioContent===content) {\n\t\t\t\tthis._mainAudioPlayer = s.player;\n\t\t\t\ts.player.setVolume(1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts.player.setVolume(0);\n\t\t\t}\n\t\t\t\n\t\t\tawait s.player.load(s.stream, this);\n\t\t\tawait s.canvas.loadCanvas(s.player);\t\t\n\t\t\ts.player.onVideoEnded(() => {\n\t\t\t\tif (videoEndedEventTimer === null) {\n\t\t\t\t\ttriggerIfReady(this.player, Events.ENDED);\n\t\t\t\t\tvideoEndedEventTimer = setTimeout(() => {\n\t\t\t\t\t\tvideoEndedEventTimer = null;\n\t\t\t\t\t}, 2000);\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis._players.push(s.player);\n\t\t}\n\t}\n\n\tasync unload() {\n\t\tthis.stopStreamSync();\n\t\tawait unloadCanvasPlugins(this.player);\n\t}\n\t\n\tget players() {\n\t\treturn this._players;\n\t}\n\t\n\t// This is the raw streamData loaded from the video manifest\n\tget streamData() {\n\t\treturn this._streamData;\n\t}\n\t\n\t// This property stores the available streams, indexed by the content identifier, and contains the\n\t// stream data, the video plugin and the player, for each content identifier.\n\tget streams() {\n\t\treturn this._streams;\n\t}\n\t\n\tget mainAudioPlayer() {\n\t\treturn this._mainAudioPlayer;\n\t}\n\t\n\tget isTrimEnabled() {\n\t\treturn this._trimming?.enabled &&\n\t\t\tthis._trimming?.end > this._trimming?.start;\n\t}\n\t\n\tget trimStart() {\n\t\treturn this._trimming?.start;\n\t}\n\t\n\tget trimEnd() {\n\t\treturn this._trimming?.end;\n\t}\n\t\n\tasync setTrimming({ enabled, start, end }) {\n\t\tif (start>=end) {\n\t\t\tthrow Error(`Error setting trimming: start time (${ start }) must be lower than end time ${ end }`);\n\t\t}\n\t\tthis._trimming = {\n\t\t\tenabled,\n\t\t\tstart,\n\t\t\tend\n\t\t};\n\t\tconst currentTime = await this.currentTime()\n\t\ttriggerIfReady(this.player, Events.TIMEUPDATE, { currentTime: enabled ? start + currentTime : currentTime });\n\t}\n\t\n\tstartStreamSync() {\n\t\tthis._timeSync = true;\n\t\tconst setupSyncTimer = async () => {\n\t\t\tif (!this._players.length) {\n\t\t\t\tthis.player.log.warn(\"Player not yet loaded. Waiting for video sync.\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis.player.log.debug(\"players:\");\n\t\t\tthis.player.log.debug(this.mainAudioPlayer);\n\t\t\tlet currentTime = this.mainAudioPlayer.currentTimeSync;\n\t\t\t\n\t\t\t// Check trimming\n\t\t\tif (this.isTrimEnabled) {\n\t\t\t\tlet trimmedCurrentTime = currentTime - this.trimStart;\n\t\t\t\tif (this.trimEnd<=currentTime) {\n\t\t\t\t\tawait this.executeAction(\"pause\");\n\t\t\t\t\tawait this.setCurrentTime(0);\n\t\t\t\t\tthis.stopStreamSync();\n\t\t\t\t\tcurrentTime = 0;\n\t\t\t\t\ttriggerIfReady(this.player, Events.ENDED, {});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telse if (currentTime<this.trimStart) {\n\t\t\t\t\tawait this.setCurrentTime(0);\n\t\t\t\t\tcurrentTime = this.trimStart;\n\t\t\t\t\ttrimmedCurrentTime = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttriggerIfReady(this.player, Events.TIMEUPDATE, { currentTime: trimmedCurrentTime });\n\t\t\t\tthis._timeupdateTimer = setTimeout(() => {\n\t\t\t\t\tif (this._timeSync) {\n\t\t\t\t\t\tsetupSyncTimer();\n\t\t\t\t\t}\n\t\t\t\t}, 250);\n\t\t\t}\n\t\t\telse if (this._timeSync) {\n\t\t\t\ttriggerIfReady(this.player, Events.TIMEUPDATE, { currentTime });\n\t\t\t\tthis._timeupdateTimer = setTimeout(() => {\n\t\t\t\t\tsetupSyncTimer();\t\n\t\t\t\t}, 250);\n\t\t\t}\n\t\t}\n\t\tsetupSyncTimer();\n\t}\n\t\n\tstopStreamSync() {\n\t\tthis._timeSync = false;\n\t\tif (this._timeupdateTimer) {\n\t\t\tclearTimeout(this._timeupdateTimer);\n\t\t}\n\t}\n\t\n\texecuteAction(fnName, params = []) {\n\t\t// Important: this implementation must be done using promises instead of async/await, due to\n\t\t// a bug in babel that causes that the resulting array may not be available when the async function\n\t\t// is completed.\n\t\tif (!Array.isArray(params)) {\n\t\t\tparams = [params];\n\t\t}\n\t\treturn new Promise((resolve) => {\n\t\t\tlet res = [];\n\t\t\tlet p = [];\n\t\t\tthis.players.forEach(player => {\n\t\t\t\tp.push(new Promise(innerResolve => {\n\t\t\t\t\tplayer[fnName](...params).then(r => {\n\t\t\t\t\t\tres.push(r);\n\t\t\t\t\t\tinnerResolve();\n\t\t\t\t\t})\n\t\t\t\t}));\n\t\t\t})\n\t\t\t\n\t\t\tPromise.all(p).then(() => resolve(res));\n\t\t})\n\t}\n\t\n\tasync play() {\n\t\tthis.startStreamSync();\n\t\tconst result = await this.executeAction(\"play\");\n\t\treturn result;\n\t}\n\n\tasync pause() {\n\t\tthis.stopStreamSync();\n\t\tconst result = await this.executeAction(\"pause\");\n\t\treturn result;\n\t}\n\t\n\tasync stop() {\n\t\tthis.stopStreamSync()\n\t\tawait this.executeAction(\"pause\");\n\t\tawait this.executeAction(\"setCurrentTime\", 0);\n\t}\n\t\n\tasync paused() {\n\t\treturn (await this.executeAction(\"paused\"))[0];\n\t}\n\n\tasync setCurrentTime(t) {\n\t\tconst prevTime = (await this.executeAction(\"currentTime\"))[0];\n\t\tlet returnValue = null;\n\n\t\tif (this.isTrimEnabled) {\n\t\t\tt = t + this.trimStart;\n\t\t\tt = t >= this.trimEnd ? this.trimEnd : t;\n\t\t\tconst result = (await this.executeAction(\"setCurrentTime\", [t]))[0];\n\t\t\tconst newTime = (await this.executeAction(\"currentTime\"))[0];\n\t\t\treturnValue = {\n\t\t\t\tresult,\n\t\t\t\tprevTime: prevTime - this.trimStart,\n\t\t\t\tnewTime: newTime - this.trimStart\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tconst result = (await this.executeAction(\"setCurrentTime\", [t]))[0];\n\t\t\tconst newTime = (await this.executeAction(\"currentTime\"))[0];\n\t\t\treturnValue = { result, prevTime, newTime };\n\t\t}\n\t\t\n\t\tconst currentTime = await this.currentTime();\n\t\ttriggerIfReady(this.player, Events.TIMEUPDATE, { currentTime: currentTime });\n\n\t\treturn returnValue;\n\t}\n\t\n\tasync currentTime() {\n\t\tconst currentTime = await this.mainAudioPlayer.currentTime();\n\t\tif (this.isTrimEnabled) {\n\t\t\treturn currentTime - this.trimStart;\n\t\t}\n\t\telse {\n\t\t\treturn currentTime;\n\t\t}\n\t}\n\t\n\tasync currentTimeIgnoringTrimming() {\n\t\tconst currentTime = await this.mainAudioPlayer.currentTime();\n\t\treturn currentTime;\n\t}\n\t\n\tasync volume() {\n\t\tif (this.mainAudioPlayer) {\n\t\t\treturn await this.mainAudioPlayer.volume();\n\t\t}\n\t\telse {\t\t\n\t\t\treturn (await this.executeAction(\"volume\"))[0];\n\t\t}\n\t}\n\t\n\tasync setVolume(v) {\n\t\tif (this.mainAudioPlayer) {\n\t\t\treturn await this.mainAudioPlayer.setVolume(v);\n\t\t}\n\t\telse {\n\t\t\treturn (await this.executeAction(\"setVolume\",[v]))[0];\n\t\t}\n\t}\n\t\n\tasync duration() {\n\t\tif (this.isTrimEnabled) {\n\t\t\treturn this.trimEnd - this.trimStart;\t\n\t\t}\n\t\telse {\n\t\t\treturn (await this.executeAction(\"duration\"))[0];\t\n\t\t}\n\t}\n\t\n\tasync durationIgnoringTrimming() {\n\t\treturn (await this.executeAction(\"duration\"))[0];\n\t}\n\n\tasync playbackRate() {\n\t\treturn (await this.executeAction(\"playbackRate\"))[0];\n\t}\n\n\tasync setPlaybackRate(rate) {\n\t\treturn (await this.executeAction(\"setPlaybackRate\",[rate]))[0];\n\t}\n\n\tasync getQualityReferencePlayer() {\n\t\tlet player = null;\n\t\tlet referenceQualities = null;\n\t\tif (Object.keys(this.streams).length>0) {\n\t\t\tfor (const content in this.streams) {\n\t\t\t\tconst stream = this.streams[content];\n\t\t\t\tconst q = await stream.player.getQualities();\n\t\t\t\tif (!player || referenceQualities && q.length > referenceQualities.length) {\n\t\t\t\t\treferenceQualities = q;\n\t\t\t\t\tplayer = stream.player;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn player;\n\t}\n\n\tasync getCurrentQuality() {\n\t\treturn (await this.getQualityReferencePlayer()).currentQuality;\n\t}\n\n\tasync getQualities() {\n\t\tconst player = await this.getQualityReferencePlayer();\n\t\treturn await player.getQualities();\n\t}\n\n\tasync setQuality(quality) {\n\t\tconst player = await this.getQualityReferencePlayer();\n\n\t\tconst qualities = await player.getQualities();\n\t\tconst total = qualities.length;\n\t\tlet index = -1;\n\t\tqualities.some((q,i) => {\n\t\t\tif (quality.index === q.index) {\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t\treturn index !== -1;\n\t\t});\n\n\t\tif (index>=0) {\n\t\t\tconst qualityFactor = index / total;\n\t\t\tfor (const content in this.streams) {\n\t\t\t\tconst stream = this.streams[content];\n\t\t\t\tconst streamQualities = await stream.player.getQualities();\n\t\t\t\tthis.player.log.debug(streamQualities);\n\t\t\t\tif (streamQualities.length>1) {\n\t\t\t\t\tconst qualityIndex = Math.round(streamQualities.length * qualityFactor);\n\t\t\t\t\tconst selectedQuality = streamQualities[qualityIndex];\n\t\t\t\t\tawait stream.player.setQuality(selectedQuality);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tasync supportsMultiaudio() {\n\t\treturn this.mainAudioPlayer.supportsMultiaudio();\n\t}\n\n\tasync getAudioTracks() {\n\t\treturn this.mainAudioPlayer.getAudioTracks();\n\t}\n\n\tasync setCurrentAudioTrack(track) {\n\t\treturn this.mainAudioPlayer.setCurrentAudioTrack(track);\n\t}\n\n\tget currentAudioTrack() {\n\t\treturn this.mainAudioPlayer.currentAudioTrack;\n\t}\n}", "\nlet g_currentLang = \"en\";\n\nconst g_dictionaries = {\n};\n\nexport function defaultTranslateFunction(word) {\n    const dict = g_dictionaries[g_currentLang] || {}\n    return dict[word] || word;\n}\n\nexport function defaultSetLanguageFunction(lang) {\n    g_currentLang = lang;    \n}\n\nexport function defaultGetLanguageFunction() {\n    return g_currentLang;\n}\n\nexport function defaultAddDictionaryFunction(lang,dict) {\n\n    g_dictionaries[lang] = g_dictionaries[lang] || {};\n    \n    for (const key in dict) {\n        const translation = dict[key];\n        g_dictionaries[lang][key] = translation;\n    }\n}\n\nlet g_translateFunc = defaultTranslateFunction;\n\nlet g_setLanguageFunc = defaultSetLanguageFunction;\n\nlet g_getLanguageFunc = defaultGetLanguageFunction;\n\nlet g_defaultAddDictionary = defaultAddDictionaryFunction;\n\nexport function translate(word, keys = null) {\n    const translated = g_translateFunc(word);\n    if (Array.isArray(keys)) {\n        let result = translated;\n        keys.forEach((key,index) => {\n            const temp = `$${index + 1}`;\n            result = result.replace(temp,key);\n        });\n        return result;\n    }\n    else {\n        return translated;\n    }\n}\n\nexport function setLanguage(lang) {\n    g_setLanguageFunc(lang);\n}\n\nexport function getLanguage() {\n    return g_getLanguageFunc();\n}\n\nexport function addDictionary(lang,dict) {\n    g_defaultAddDictionary(lang, dict);\n}\n\nexport function setTranslateFunction(fn) {\n    g_translateFunc = fn;\n}\n\nexport function setSetLanguageFunction(fn) {\n    g_setLanguageFunc = fn;\n}\n\nexport function setGetLanguageFunction(fn) {\n    g_getLanguageFunc = fn;\n}\nexport function setAddDictionaryFunction(fn) {\n    g_defaultAddDictionary = fn;\n}\n", "import UserInterfacePlugin from '../core/UserInterfacePlugin';\nimport { getPluginsOfType } from '../core/Plugin';\nimport { createElementWithHtmlText } from '../core/dom';\nimport Events, { triggerEvent } from '../core/Events';\nimport { translate } from '../core/Localization';\n\nexport function getButtonPlugins(player, side = \"any\", parent = \"playbackBar\") {\n\treturn getPluginsOfType(player, \"button\")\n\t\t.filter(btn => {\n\t\t\treturn (btn.side === side || side === \"any\") && btn.parent === parent\n\t\t});\n}\n\nexport function getLeftButtonPlugins(player) {\n\treturn getButtonPlugins(player, \"left\", \"playbackBar\");\n}\n\nexport function getRightButtonPlugins(player) {\n\treturn getButtonPlugins(player, \"right\", \"playbackBar\");\n}\n\n\n\nexport function getNextTabIndex(player) {\n\tplayer.__tabIndex = player.__tabIndex || 0;\n\t++player.__tabIndex;\n\treturn player.__tabIndex;\n}\n\nexport function getCurrentTabIndex(player) {\n\treturn player.__tabIndex || 0;\n}\n\nexport async function addButtonPlugin(plugin, buttonAreaElem) {\n\tconst parent = createElementWithHtmlText('<div class=\"button-plugin-container\"></div>', buttonAreaElem);\n\tparent.plugin = plugin;\n\tconst tabIndex = plugin.tabIndex;\n\tconst ariaLabel = translate(plugin.ariaLabel);\n\tconst description = translate(plugin.description);\n\n\tconst leftArea = createElementWithHtmlText(`\n\t\t<div class=\"button-plugin-side-area left-side ${ plugin.className }\"></div>\n\t`, parent);\n\tconst button = createElementWithHtmlText(`\n\t\t<button class=\"button-plugin ${ plugin.className }\" tabindex=\"${ tabIndex }\" aria-label=\"${ ariaLabel }\" title=\"${ description }\"><i class=\"button-icon\" style=\"pointer-events: none\">${ plugin.icon }</i></button>\n\t`, parent);\n\tconst rightArea = createElementWithHtmlText(`\n\t\t<div class=\"button-plugin-side-area right-side ${ plugin.className }\"></div>\n\t`, parent);\n\tconst titleContainer = createElementWithHtmlText(`\n\t\t<span class=\"button-title button-title-${ plugin.titleSize }\">${ plugin.title || \"&nbsp;\" }</span>\n\t`, button);\n\tplugin._leftArea = leftArea;\n\tplugin._rightArea = rightArea;\n\tplugin._button = button;\n\tplugin._container = parent;\n\tplugin._titleContainer = titleContainer;\n\tbutton._pluginData = plugin;\n\tleftArea._pluginData = plugin;\n\trightArea._pluginData = plugin;\n\tparent._pluginData = plugin;\n\n\t// Event listeners\n\tparent.addEventListener(\"mouseenter\", (evt) => {\n\t\tparent._pluginData.mouseOver(parent, evt);\n\t});\n\tparent.addEventListener(\"mouseleave\", (evt) => {\n\t\tparent._pluginData.mouseOut(parent, evt);\n\t});\n\n\tbutton.addEventListener(\"click\", (evt) => {\n\t\tconst plugin = button._pluginData;\n\t\ttriggerEvent(plugin.player, Events.BUTTON_PRESS, {\n\t\t\tplugin: plugin\n\t\t});\n\t\tplugin.action(evt);\n\t\tevt.stopPropagation();\n\t});\n}\n\nexport default class ButtonPlugin extends UserInterfacePlugin {\n\tget type() { return \"button\" }\n\t\n\t// _container, _leftArea, _rightArea, _button and _titleContainer are loaded in PlaybackBar\n\tget container() { return this._container; }\n\tget leftArea() { return this._leftArea; }\n\tget rightArea() { return this._rightArea; }\n\tget button() { return this._button; }\n\tget titleContainer() { return this._titleContainer; }\n\n\tget ariaLabel() {\n\t\treturn this.config.ariaLabel || this.getAriaLabel();\n\t}\n\n\tgetAriaLabel() {\n\t\treturn \"\";\n\t}\n\n\tget tabIndex() {\n\t\treturn this.config.tabIndex || this.getTabIndex();\n\t}\n\n\tgetTabIndex() {\n\t\treturn getNextTabIndex(this.player);\n\t}\n\n\tgetDescription() {\n\t\treturn \"\";\n\t}\n\n\tget description() {\n\t\treturn this.config.description || this.getDescription();\n\t}\n\t\n\tget iconElement() {\n\t\treturn this.button?.getElementsByClassName(\"button-icon\")[0];\n\t}\n\t\n\tget icon() {\n\t\treturn this._icon;\n\t}\n\t\n\tset icon(icon) {\n\t\tthis._icon = icon;\n\t\tthis.iconElement.innerHTML = icon;\n\t}\n\n\tget title() {\n\t\treturn this._title || \"\";\n\t}\n\n\tset title(t) {\n\t\tthis._title = t;\n\t\tthis._titleContainer.innerHTML = t;\n\t}\n\n\t// \"small\", \"medium\", \"large\"\n\tget titleSize() {\n\t\treturn \"medium\";\n\t}\n\t\n\t// \"left\" or \"right\"\n\tget side() {\n\t\tconst side = this.config?.side;\n\t\treturn side || \"left\";\n\t}\n\n\t// \"playbackBar\" or \"videoContainer\"\n\tget parentContainer() {\n\t\tconst parent = this.config?.parentContainer;\n\t\treturn parent || \"playbackBar\";\n\t}\n\t\n\tget className() { return \"\"; }\n\t\n\thide() {\n\t\tif (this._button) {\n\t\t\tthis._button.style.display = \"none\";\n\t\t}\n\t}\n\t\n\tshow() {\n\t\tif (this._button) {\n\t\t\tthis._button.style.display = \"block\";\n\t\t}\n\t}\n\t\n\tasync mouseOver(target) {\n\n\t}\n\n\tasync mouseOut(target) {\n\n\t}\n\n\tasync action() {\n\t\tthis.player.log.warn(`Action not implemented in button plugin ${ this.name }`);\t\n\t}\n}\n", "\nimport { DomClass, createElementWithHtmlText,createElement } from '../core/dom';\nimport { \n    getValidLayouts, \n    getValidContentIds, \n    getLayoutStructure, \n    getLayoutWithId,\n    getValidContentSettings } from '../core/VideoLayout';\nimport StreamProvider from '../core/StreamProvider';\nimport Events, { bindEvent, triggerEvent } from '../core/Events';\nimport { addButtonPlugin } from '../core/ButtonPlugin';\nimport { translate } from '../core/Localization';\n\nimport '../../css/VideoContainer.css';\nimport '../../css//VideoLayout.css';\nimport { loadPluginsOfType, unloadPluginsOfType } from './Plugin';\nimport { loadVideoPlugins, unloadVideoPlugins } from './VideoPlugin';\nimport { addVideoCanvasButton } from './CanvasPlugin';\n\nexport async function getContainerBaseSize(player) {\n    // TODO: In the future, this function can be modified to support different\n    // aspect ratios, which can be loaded from the video manifest.\n    return { w: 1280, h: 720 }\n}\n\nexport default class VideoContainer extends DomClass {\n\n    constructor(player, parent) {\n        const baseVideoRectClass = \"base-video-rect\";\n\n        const attributes = {\n            \"class\": \"video-container\"\n        };\n        const children = `\n            <div class=\"${ baseVideoRectClass }\">\n            </div>\n        `\n        super(player, {attributes, children, parent});\n\n        this._baseVideoRect = this.element.getElementsByClassName(baseVideoRectClass)[0];\n        this.element.addEventListener(\"click\", async () => {\n            if (await this.paused()) {\n                await this.play();\n            }\n            else {\n                await this.pause();\n            }\n        });\n\n        this._ready = false;\n\n        this._layoutId = window.localStorage.getItem(\"videoLayout\") || player.config.defaultLayout;\n\n        this._players = [];\n        \n        this._streamProvider = new StreamProvider(this.player, this.baseVideoRect);\n    }\n\n    get layoutId() {\n        return this._layoutId;\n    }\n    \n    async setLayout(layoutId) {\n        if (this.validContentIds.indexOf(layoutId) === -1) {\n            return false;\n        }\n        else {\n            window.localStorage.setItem(\"videoLayout\", layoutId);\n            this._layoutId = layoutId;\n            this.updateLayout();\n        }\n    }\n    \n    get validContentIds() {\n        return this._validContentIds;\n    }\n    \n    get validContentSettings() {\n        return this._validContentSettings;\n    }\n\n    get validLayouts() {\n        return getValidLayouts(this.player, this.streamData);\n    }\n\n    get streamData() {\n        return this._streamData;\n    }\n\n    get baseVideoRect() {\n        return this._baseVideoRect;\n    }\n    \n    get streamProvider() {\n        return this._streamProvider;\n    }\n\n    async load(streamData) {\n        this._streamData = streamData;\n\n        this._baseVideoRect.style.display = \"none\";\n\n        await loadPluginsOfType(this.player, \"layout\");\n\n        await loadVideoPlugins(this.player);\n\n        await this.streamProvider.load(streamData);\n        \n        // Find the content identifiers that are compatible with the stream data\n        this._validContentIds = getValidContentIds(this.player, streamData);\n        \n        this._validContentSettings = getValidContentSettings(this.player, streamData);\n        \n        // Load video layout\n        await this.updateLayout();\n\n        const leftSideButtons = createElementWithHtmlText(\n            `<div class=\"button-plugins left-side\"></div>`, this.element\n        );\n        const rightSideButtons = createElementWithHtmlText(\n            `<div class=\"button-plugins right-side\"></div>`, this.element\n        );\n        this._buttonPlugins = [ leftSideButtons, rightSideButtons ];\n\n        // Load videoContainer plugins\n        this.player.log.debug(\"Loading videoContainer button plugins\");\n        await loadPluginsOfType(this.player,\"button\",async (plugin) => {\n            this.player.log.debug(` Button plugin: ${ plugin.name }`);\n            if (plugin.side === \"left\") {\n                await addButtonPlugin(plugin, leftSideButtons);\n            }\n            else if (plugin.side === \"right\") {\n                await addButtonPlugin(plugin, rightSideButtons);\n            }\n        }, async plugin => {\n            if (plugin.parentContainer === \"videoContainer\") {\n                return await plugin.isEnabled();\n            }\n            else {\n                return false;\n            }\n        });\n        \n        this._baseVideoRect.style.display = \"\";\n        this._ready = true;\n    }\n\n    async unload() {\n        this.removeFromParent();\n\n        // Button plugins are unloaded in PlaybackBar\n\n        await unloadPluginsOfType(this.player, \"layout\");\n\n        await unloadVideoPlugins(this.player);\n\n        await this.streamProvider.unload();\n    }\n\n    // Return true if the layout this.layoutId is compatible with the current stream data.\n    async updateLayout() {\n        let status = true;\n        \n        this._layoutButtons = [];\n        \n        // Current layout: if not selected, or the selected layout is not compatible, load de default layout\n        if (!this._layoutId || this._validContentIds.indexOf(this._layoutId) === -1) {\n            this._layoutId = this.player.config.defaultLayout;\n\n            // Check if the default layout is compatible\n            if (this._validContentIds.indexOf(this._layoutId) === -1) {\n                this._layoutId = this._validContentIds[0];\n            }\n            status = false;\n        }\n\n        const layoutStructure = getLayoutStructure(this.player, this.streamProvider.streamData, this._layoutId);\n\n        for (const content in this.streamProvider.streams) {\n            const isPresent = layoutStructure?.videos?.find(video => video.content === content) != null;\n            const video = this.streamProvider.streams[content];\n            if (video.isEnabled === undefined) {\n                video.isEnabled = true;\n            }\n            \n            if (isPresent && !video.isEnabled) {\n                video.isEnabled = await video.player.enable();\n            }\n            else if (!isPresent && video.isEnabled) {\n                video.isEnabled = await video.player.disable();\n            }\n        }\n\n        // Hide all video players\n        for (const key in this.streamProvider.streams) {\n            const videoData = this.streamProvider.streams[key];\n            videoData.canvas.element.style.display = \"none\";\n        }\n\n        // Conversion factors for video rect\n        const baseSize = await getContainerBaseSize(this.player);\n        const playerSize = this.player.containerSize;\n        const wFactor = 100 / baseSize.w;\n        const hFactor = 100 / baseSize.h;\n        const playerRatio = playerSize.w / playerSize.h;\n        const baseRatio = baseSize.w / baseSize.h; \n        const containerCurrentSize = playerRatio>baseRatio ?\n            { w: playerSize.h * baseRatio, h: playerSize.h } :\n            { w: playerSize.w, h: playerSize.w / baseRatio };\n\n        this.baseVideoRect.style.width = containerCurrentSize.w + \"px\";\n        this.baseVideoRect.style.height = containerCurrentSize.h + \"px\";\n\n        await layoutStructure?.videos?.forEach(async video => {\n            const videoData = this.streamProvider.streams[video.content];\n            const { stream, player, canvas } = videoData;\n            const res = await player.getDimensions();\n            const videoAspectRatio = res.w / res.h;\n            let difference = Number.MAX_VALUE;\n            let resultRect = null;\n\n            canvas.buttonsArea.innerHTML = \"\";\n            addVideoCanvasButton(layoutStructure, canvas, video);\n            \n            video.rect.forEach((videoRect) => {\n                const aspectRatioData = /^(\\d+.?\\d*)\\/(\\d+.?\\d*)$/.exec(videoRect.aspectRatio);\n                const rectAspectRatio = aspectRatioData ? Number(aspectRatioData[1]) / Number(aspectRatioData[2]) : 1;\n                const d = Math.abs(videoAspectRatio - rectAspectRatio);\n                if (d < difference) {\n                    resultRect = videoRect;\n                    difference = d;\n                }\n            });\n\n            canvas.element.style.display = \"block\";\n            canvas.element.style.position = \"absolute\";\n            canvas.element.style.left = `${ resultRect.left * wFactor }%`;\n            canvas.element.style.top = `${ resultRect.top * hFactor }%`;\n            canvas.element.style.width = `${ resultRect.width * wFactor }%`;\n            canvas.element.style.height = `${ resultRect.height * hFactor }%`;\n            canvas.element.style.zIndex = video.layer;\n        });\n        \n        const prevButtons = this.baseVideoRect.getElementsByClassName('video-layout-button');\n        Array.from(prevButtons).forEach(btn => this.baseVideoRect.removeChild(btn));\n        layoutStructure?.buttons?.forEach(buttonData => {\n            const button = createElement({\n                tag: 'button',\n                attributes: {\n                    \"class\": \"video-layout-button\",\n                    \"aria-label\": translate(buttonData.ariaLabel),\n                    \"title\": translate(buttonData.title),\n                    style: `\n                        left: ${buttonData.rect.left * wFactor}%;\n                        top: ${buttonData.rect.top * hFactor}%;\n                        width: ${buttonData.rect.width * wFactor}%;\n                        height: ${buttonData.rect.height * hFactor}%;\n                        z-index: ${ buttonData.layer };\n                    `\n                },\n                parent: this.baseVideoRect,\n                children: buttonData.icon\n            });\n            button.layout = layoutStructure;\n            button.buttonAction = buttonData.onClick;\n            button.addEventListener(\"click\", (evt) => {\n                triggerEvent(this.player, Events.BUTTON_PRESS, {\n                    plugin: layoutStructure.plugin,\n                    layoutStructure: layoutStructure\n                });\n                evt.target.buttonAction.apply(evt.target.layout);\n                evt.stopPropagation();\n            });\n            this._layoutButtons.push(button);\n        });\n        \n        triggerEvent(this.player, Events.LAYOUT_CHANGED);\n\n        return status;\n    }\n    \n    hideUserInterface() {\n        if (this._layoutButtons && this._buttonPlugins) {\n            this.player.log.debug(\"Hide video container user interface\");\n            const hideFunc = button => {\n                button._prevDisplay = button.style.display;\n                button.style.display = \"none\";\n            }\n            this._layoutButtons.forEach(hideFunc);\n            this._buttonPlugins.forEach(hideFunc);\n            for (const content in this.streamProvider.streams) {\n                const stream = this.streamProvider.streams[content];\n                stream.canvas.hideButtons();\n            }\n        }\n    }\n    \n    showUserInterface() {\n        if (this._layoutButtons && this._buttonPlugins) {\n            const showFunc = button => button.style.display = button._prevDisplay || \"block\";\n            this._layoutButtons.forEach(showFunc);\n            this._buttonPlugins.forEach(showFunc);\n            for (const content in this.streamProvider.streams) {\n                const stream = this.streamProvider.streams[content];\n                stream.canvas.showButtons();\n            }\n        }\n    }\n\n    get ready() {\n        return this._ready;\n    }\n\n    async play() {\n        const result = await this.streamProvider.play();\n        triggerEvent(this.player, Events.PLAY);\n        return result;\n    }\n\n    async pause() {\n        const result = await this.streamProvider.pause();\n        triggerEvent(this.player, Events.PAUSE);\n        return result;\n    }\n    \n    async stop() {\n        this.streamProvider.stop();\n        triggerEvent(this.player, Events.STOP);\n    }\n    \n    async paused() {\n        return this.streamProvider.paused();\n    }\n\n    async setCurrentTime(t) {\n        const result = await this.streamProvider.setCurrentTime(t);\n        triggerEvent(this.player, Events.SEEK, { prevTime: result.prevTime, newTime: result.newTime });\n        return result.result;\n    }\n    \n    async currentTime() {\n        return this.streamProvider.currentTime();\n    }\n    \n    async volume() {\n        return this.streamProvider.volume();\n    }\n    \n    async setVolume(v) {\n        const result = await this.streamProvider.setVolume(v);\n        triggerEvent(this.player, Events.VOLUME_CHANGED, { volume: v });\n        return result;\n    }\n    \n    async duration() {\n        return await this.streamProvider.duration();\n    }\n\n    async playbackRate() {\n        return await this.streamProvider.playbackRate();\n    }\n\n    async setPlaybackRate(r) {\n        const result = await this.streamProvider.setPlaybackRate(r);\n        triggerEvent(this.player, Events.PLAYBACK_RATE_CHANGED, { newPlaybackRate: r })\n        return result;\n    }\n\n    get isTrimEnabled() {\n        return this.streamProvider.isTrimEnabled;\n    }\n\n    get trimStart() {\n        return this.streamProvider.trimStart;\n    }\n\n    get trimEnd() {\n        return this.streamProvider.trimEnd;\n    }\n\n    async setTrimming({ enabled, start, end }) {\n        const result = await this.streamProvider.setTrimming({\n            enabled,\n            start,\n            end\n        });\n        triggerEvent(this.player, Events.TRIMMING_CHANGED, { \n            enabled, \n            start, \n            end \n        });\n        return result;\n    }\n\n    getVideoRect(target = null) {\n        let element = this.baseVideoRect;\n        if (typeof(target) === \"string\") {\n            element = this.streamProvider.streams[target]?.canvas.element;\n        }\n        \n        return {\n            x: element?.offsetLeft, \n            y: element?.offsetTop, \n            width: element?.offsetWidth, \n            height: element?.offsetHeight,            \n            element\n        };\n    }\n\n    appendChild(element, rect = null, zIndex = 1) {\n        if (rect) {\n            const { width, height } = this.getVideoRect();\n            rect.x = rect.x * 100 / width;\n            rect.width = rect.width * 100 / width;\n            rect.y = rect.y * 100 / height;\n            rect.height = rect.height * 100 / height;\n            element.style.position = \"absolute\";\n            element.style.left = `${ rect.x }%`;\n            element.style.top = `${ rect.y }%`;\n            element.style.width = `${ rect.width }%`;\n            element.style.height = `${ rect.height }%`;\n            if (zIndex!==null) element.style.zIndex = zIndex;\n        }\n        this.baseVideoRect.appendChild(element);\n        return element;\n    }\n\n    removeChild(element) {\n        this.baseVideoRect.removeChild(element);\n    }\n}\n\n", "\nimport { DomClass, createElementWithHtmlText } from './dom';\n\nconst g_style = `\n    background-color: #e4e4e4;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%); \n`\nconst g_imgStyle = `\n    width: 100%;\n`;\n\nconst g_iconContainerStyle = `\n    position: absolute; \n    top: 0px; \n    left: 0px; \n    right: 0px; \n    bottom: 0px; \n    display: flex;\n    align-content: center;\n    justify-content: center;\n    align-items: center;\n`;\n\nconst g_iconStyle = `\n    pointer-events: none;\n    width: 20%;\n    max-width: 400px;\n    min-width: 100px;\n    opacity: 0.6;\n`;\n\nimport PlayIcon from '../../icons/play_icon_fullscreen.svg';\n\nexport default class PreviewContainer extends DomClass {\n    constructor(player, parentElement,backgroundImage) {\n        const attributes = {\n            \"class\": \"preview-container\",\n            \"style\": g_style\n        };\n        super(player, {attributes, parent: parentElement});\n\n        this._img = createElementWithHtmlText(`\n        <div style=\"${g_imgStyle}\">\n            <img style=\"${g_imgStyle}\" src=\"${backgroundImage}\" alt=\"\"/>\n            <div style=\"${ g_iconContainerStyle }\">\n                <i class=\"preview-play-icon\" style=\"${ g_iconStyle }\">${ PlayIcon }</i>\n            </div>\n        </div>\n        `, this.element);\n\n        this.element.addEventListener(\"click\", (evt) => {\n            player.play();\n        });\n    }\n\n    loadBackgroundImage(src) {\n        this._img.setAttribute(\"src\",src);\n    }\n}\n", "import { DomClass, createElementWithHtmlText } from '../core/dom';\nimport Events, { bindEvent } from '../core/Events';\nimport { resolveResourcePath, secondsToTime } from '../core/utils';\n\nexport function getCurrentFrame(sortedFrameList,time) {\n\tif (!sortedFrameList || sortedFrameList.length === 0) {\n\t\treturn null;\n\t}\n\t\n\tlet result = sortedFrameList[0];\n\tlet prevTime = result.time;\n\tsortedFrameList.forEach(frame => {\n\t\tif (frame.time>prevTime && frame.time<Math.floor(time)) {\n\t\t\tresult = frame;\n\t\t\tprevTime = result.time;\n\t\t}\n\t})\n\t\n\treturn result;\n}\n\nfunction updateFrameThumbnail(offsetX,time) {\n\tlet frame = getCurrentFrame(this.frameList, time);\n\tif (frame) {\n\t\tthis._frameThumbnail.style.display = \"block\";\n\t\tconst thumbWidth = this._frameThumbnail.getBoundingClientRect().width;\n\t\tconst playbackBar = this.playbackBar;\n\t\tconst { top, left, bottom, width, height } = playbackBar.getBoundingClientRect();\n\t\tconst centerX = width / 2;\n\t\t\n\t\tthis.frameThumbnail.style.bottom = `${ height }px`;\n\t\tif (centerX > offsetX) {\n\t\t\tthis.frameThumbnail.style.left = `${ offsetX }px`;\t\t\n\t\t}\n\t\telse {\n\t\t\tthis.frameThumbnail.style.left = `${ offsetX - thumbWidth }px`;\n\t\t}\n\t\t\n\t\tconst frameImage = resolveResourcePath(this.player, frame.url);\n\t\tconst thumbImageContainer = this.frameThumbnail.getElementsByClassName(\"thumbnail-image\")[0];\n\t\tconst timeContainer = this.frameThumbnail.getElementsByClassName(\"thumbnail-time\")[0];\n\t\tif (frameImage !== this._prevFrameImage) {\n\t\t\tthumbImageContainer.src = frameImage;\n\t\t\tthumbImageContainer.alt = frame.id;\n\t\t\tthis._prevFrameImage = frameImage;\n\t\t}\n\t\t\n\t\ttimeContainer.innerHTML = secondsToTime(time);\n\t}\n}\n\nexport default class ProgressIndicator extends DomClass {\n\tconstructor(player, parent) {\n\t\tconst attributes = {\n\t\t\t\"class\": \"progress-indicator\"\n\t\t};\n\t\tconst children = `\n\t\t<canvas class=\"progress-canvas canvas-layer-0\"></canvas>\n\t\t<div class=\"progress-indicator-container\">\n\t\t\t<div style=\"width: 0px;\" class=\"progress-indicator-content\"></div>\n\t\t</div>\n\t\t<canvas class=\"progress-canvas canvas-layer-1\"></canvas>\n\t\t<div class=\"progress-indicator-timer\">00:00</div>\n\t\t`;\n\t\tsuper(player, { attributes, children, parent });\n\t\t\n\t\tthis._frameThumbnail = createElementWithHtmlText(`\n\t\t\t<div class=\"frame-thumbnail\">\n\t\t\t\t<img src=\"\" alt=\"\" class=\"thumbnail-image\" />\n\t\t\t\t<p class=\"thumbnail-time\">00:00</p>\n\t\t\t</div>`, player.containerElement);\n\t\tthis._frameThumbnail.style.display = \"none\";\n\t\tthis._frameThumbnail.style.position = \"absolute\";\n\t\t\t\n\t\tthis._canvas = [\n\t\t\tthis.element.getElementsByClassName(\"progress-canvas\")[0],\n\t\t\tthis.element.getElementsByClassName(\"progress-canvas\")[1]\n\t\t];\n\t\tthis._progressContainer = this.element.getElementsByClassName(\"progress-indicator-container\")[0];\n\t\tthis._progressIndicator = this.element.getElementsByClassName(\"progress-indicator-content\")[0];\n\t\tthis._progressTimer = this.element.getElementsByClassName(\"progress-indicator-timer\")[0];\n\t\t\n\t\tthis._frameList = player.videoManifest?.frameList;\n\t\tthis._frameList?.sort((a,b) => a.time-b.time);\n\t\t\n\t\tthis.onResize();\n\t\n\t\tlet drag = false;\n\t\tconst updateProgressIndicator = async (currentTime) => {\n\t\t\tconst duration = await player.videoContainer.duration();\n\t\t\tconst newWidth = currentTime * 100 / duration;\n\t\t\tthis.progressIndicator.style.width = `${ newWidth }%`;\n\t\t}\n\t\t\n\t\tconst positionToTime = async (pos) => {\n\t\t\tconst barWidth = this.element.offsetWidth;\n\t\t\tconst duration = await player.videoContainer.duration();\n\t\t\treturn pos * duration / barWidth;\n\t\t}\n\t\n\t\tbindEvent(this.player, Events.TIMEUPDATE, async ({ currentTime }) => {\n\t\t\tif (!drag) {\n\t\t\t\tawait updateProgressIndicator(currentTime);\n\t\t\t\tconst formattedTime = secondsToTime(currentTime);\n\t\t\t\tthis.progressTimer.innerHTML = formattedTime;\n\t\t\t}\n\t\t});\n\t\t\n\t\tbindEvent(this.player, Events.SEEK, async ({ prevTime, newTime }) => {\n\t\t\tif (!drag) {\n\t\t\t\tawait updateProgressIndicator(newTime);\n\t\t\t\tconst formattedTime = secondsToTime(newTime);\n\t\t\t\tthis.progressTimer.innerHTML = formattedTime;\n\t\t\t}\n\t\t});\n\t\t\n\t\tbindEvent(this.player, Events.STOP, async () => {\n\t\t\tawait updateProgressIndicator(0);\n\t\t\tconst formattedTime = secondsToTime(0);\n\t\t\tthis.progressTimer.innerHTML = formattedTime;\n\t\t})\n\t\t\n\t\tthis.progressContainer.addEventListener(\"mousedown\", async (evt) => {\n\t\t\tdrag = true;\n\t\t\tconst newTime = await positionToTime(evt.offsetX);\n\t\t\tawait updateProgressIndicator(newTime);\n\t\t});\n\t\t\n\t\tthis.progressContainer._progressIndicator = this;\n\t\tthis.progressContainer.addEventListener(\"mousemove\", async (evt) => {\n\t\t\tconst { isTrimEnabled, trimStart } = this.player.videoContainer;\n\t\t\tconst offset = isTrimEnabled ? trimStart : 0;\n\t\t\tconst newTime = await positionToTime(evt.offsetX);\n\t\t\tif (drag) {\n\t\t\t\tawait updateProgressIndicator(newTime);\n\t\t\t}\n\t\t\tupdateFrameThumbnail.apply(this, [evt.offsetX,newTime + offset]);\n\t\t});\n\t\t\n\t\tthis.progressContainer.addEventListener(\"mouseup\", async (evt) => {\n\t\t\tconst newTime = await positionToTime(evt.offsetX);\n\t\t\tawait updateProgressIndicator(newTime);\n\t\t\tawait player.videoContainer.setCurrentTime(newTime);\n\t\t\tconst formattedTime = secondsToTime(newTime);\n\t\t\tthis.progressTimer.innerHTML = formattedTime;\n\t\t\tdrag = false;\n\t\t});\n\t\t\n\t\tthis.progressContainer.addEventListener(\"mouseleave\", async (evt) => {\n\t\t\tif (drag) {\n\t\t\t\tconst newTime = await positionToTime(evt.offsetX);\n\t\t\t\tawait player.videoContainer.setCurrentTime(newTime);\n\t\t\t\tdrag = false;\n\t\t\t}\n\t\t\tthis.frameThumbnail.style.display = \"none\";\n\t\t});\n\t}\n\t\n\tget playbackBar() {\n\t\treturn this.element.parentElement;\n\t}\n\t\n\tget canvasLayer0() {\n\t\treturn this._canvas[0];\n\t}\n\t\n\tget canvasLayer1() {\n\t\treturn this._canvas[1];\n\t}\n\t\n\tget progressIndicator() {\n\t\treturn this._progressIndicator;\n\t}\n\t\n\tget progressTimer() {\n\t\treturn this._progressTimer;\n\t}\n\t\n\tget progressContainer() {\n\t\treturn this._progressContainer;\n\t}\n\t\n\tget frameThumbnail() {\n\t\treturn this._frameThumbnail;\n\t}\n\t\n\tget frameList() {\n\t\treturn this._frameList;\n\t}\n\t\n\tonResize() {\n\t\tconst size = {\n\t\t\tw: this.element.offsetWidth,\n\t\t\th: this.element.offsetHeight\n\t\t};\n\t\tthis._canvas.forEach(c => {\n\t\t\tc.width = size.w;\n\t\t\tc.height = size.h;\n\t\t});\n\t}\n}\n\n", "import { DomClass, createElementWithHtmlText } from '../core/dom';\n\nimport ProgressIndicator from '../core/ProgressIndicator';\nimport { loadPluginsOfType, unloadPluginsOfType } from '../core/Plugin';\nimport { addButtonPlugin } from '../core/ButtonPlugin';\n\nimport '../../css/PlaybackBar.css';\n\nexport default class PlaybackBar extends DomClass {\n\tconstructor(player,parent) {\n\t\tconst attributes = {\n\t\t\t\"class\": \"playback-bar\"\n\t\t};\n\t\tsuper(player, { attributes, parent });\n\t\t\n\t\tthis._progressIndicator = new ProgressIndicator(player, this.element);\n\t\tthis._buttonPluginsLeft = createElementWithHtmlText(\n\t\t\t`<div class=\"button-plugins left-side\"></div>`, this.element);\n\t\tthis._buttonPluginsRight = createElementWithHtmlText(\n\t\t\t`<div class=\"button-plugins right-side\"></div>`, this.element);\n\t}\n\t\n\tasync load() {\t\t\n\t\tthis._frameList = this.player.videoManifest;\n\t\t\n\t\tthis.player.log.debug(\"Loading button plugins\");\n\t\tawait loadPluginsOfType(this.player,\"button\",async (plugin) => {\n\t\t\tthis.player.log.debug(` Button plugin: ${ plugin.name }`);\n\t\t\tif (plugin.side === \"left\") {\n\t\t\t\tawait addButtonPlugin(plugin, this.buttonPluginsLeft);\n\t\t\t}\n\t\t\telse if (plugin.side === \"right\") {\n\t\t\t\tawait addButtonPlugin(plugin, this.buttonPluginsRight);\n\t\t\t}\n\t\t}, async plugin => {\n\t\t\tif (plugin.parentContainer === \"playbackBar\") {\n\t\t\t\treturn await plugin.isEnabled();\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t}\n\n\tasync unload() {\n\t\t// Remove elements from parent\n\t\tthis.removeFromParent();\n\n\t\t// Unload plugins\n\t\tawait unloadPluginsOfType(this.player, \"button\");\n\t\tthis._buttonPluginsLeft.innerHTML = \"\"\n\t\tthis._buttonPluginsRight.innerHTML = \"\";\n\t}\n\t\n\thideUserInterface() {\n\t\tthis.player.log.debug(\"Hide playback bar user interface\");\n\t\tthis.hide();\n\t}\n\t\n\tshowUserInterface() {\n\t\tthis.show();\n\t}\n\t\n\tget buttonPluginsRight() {\n\t\treturn this._buttonPluginsRight;\n\t}\n\t\n\tget buttonPluginsLeft() {\n\t\treturn this._buttonPluginsLeft;\n\t}\n\t\n\tget progressIndicator() {\n\t\treturn this._progressIndicator;\n\t}\n\t\n\tonResize() {\n\t\tthis.progressIndicator.onResize();\n\t}\n}", "import { DomClass, createElementWithHtmlText } from '../core/dom';\nimport Events, { triggerEvent } from '../core/Events';\n\nimport '../../css/TimeLinePopUp.css';\n\nfunction setupPlayerInstance(player) {\n    if (!player.__timeLinePopUp) {\n        player.__timeLinePopUp = {\n            popUps: [],\n            current: null\n        }\n    }\n}\n\nexport default class TimeLinePopUp extends DomClass {\n    static HideUserInterface(player) {\n        setupPlayerInstance(player);\n        if (player.__timeLinePopUp.current) {\n            const tmpCurrentPopup = player.__timeLinePopUp.current;\n            player.__timeLinePopUp.current.hide(true);\n            player.__timeLinePopUp.current = tmpCurrentPopup;\n        }\n    }\n\n    static ShowUserInterface(player) {\n        setupPlayerInstance(player);\n        if (player.__timeLinePopUp.current) {\n            player.__timeLinePopUp.current.show(true);\n        }\n    }\n\n    static Unload(player) {\n        if (!player.__timeLinePopUp) return;\n        if (player.__timeLinePopUp.current) {\n            player.__timeLinePopUp.current.removeFromParent();\n        }\n        player.__timeLinePopUp.popUps.forEach(p => {\n            p.removeFromParent();\n        });\n        player.__timeLinePopUp.popUps.slice(0);\n        delete player.__timeLinePopUp;\n    }\n\n    constructor(player, contextObject = null) {\n        setupPlayerInstance(player);\n\n        const attributes = {\n            \"class\": \"timeline-popup-content\"\n        };\n\n        const parent = player.containerElement;\n\n        super(player, { attributes, parent });\n\n        this._contextObject = contextObject;\n\n        // Hide other pop ups\n        player.__timeLinePopUp.popUps.forEach(p => p.hide());\n        \n        this._id = Symbol(this);\n        player.__timeLinePopUp.popUps.push(this);\n\n        player.__timeLinePopUp.current = this;\n\n        triggerEvent(this.player, Events.SHOW_POPUP, {\n            popUp: this,\n            plugin: this.contextObject\n        });\n    }\n\n    get contextObject() {\n        return this._contextObject;\n    }\n\n    show(uiTimerTriggered = false) {\n        if (this.isVisible) {\n            return;\n        }\n\n        // Hide other pop ups\n        this.player.__timeLinePopUp.popUps.forEach(p => p.hide());\n        super.show();\n        this.player.__timeLinePopUp.current = this;\n        if (!(uiTimerTriggered === true)) {\n            triggerEvent(this.player, Events.SHOW_POPUP, {\n                popUp: this,\n                plugin: this.contextObject\n            });\n        }\n    }\n\n    hide(uiTimerTriggered = false) {\n        if (!this.isVisible) {\n            return;\n        }\n\n        super.hide();\n        this.player.__timeLinePopUp.current = null;\n        if (!(uiTimerTriggered === true)) {\n            triggerEvent(this.player, Events.HIDE_POPUP, {\n                popUp: this,\n                plugin: this.contextObject\n            });\n        }\n    }\n\n    setContent(content) {\n        if (content) {\n            this.element.innerHTML = \"\";\n            this.element.appendChild(content);\n        }\n    }\n}\n", "import Plugin, { loadPluginsOfType } from '../core/Plugin';\nimport PlayerResource from '../core/PlayerResource';\n\nexport class DataPlugin extends Plugin {\n    get type() { return \"data\"; }\n\n    get context() { return this.config.context || []; }\n\n    async read(/* context, key */) {\n        throw Error(`DataPlugin.read() not implemented in data plugin '${this.name}'`);\n    }\n\n    async write(/* context, key, data */) {\n        throw Error(`DataPlugin.write() not implemented in data plugin '${this.name}'`);\n    }\n\n    async remove(/* context, key */) {\n        throw Error(`DataPlugin.remove() not implemented in data plugin '${this.name}'`);\n    }\n}\n\nexport default class Data extends PlayerResource {\n    constructor(player) {\n        super(player);\n\n        this._dataPlugins = {}\n\n        loadPluginsOfType(this.player, \"data\", async (plugin) => {\n            plugin.context?.forEach(ctx => {\n                this._dataPlugins[ctx] = this._dataPlugins[ctx] || [];\n                this._dataPlugins[ctx].push(plugin);\n            });\n        })\n    }\n\n    getDataPlugin(context) {\n        let plugin =  this._dataPlugins[context] &&\n                      this._dataPlugins[context].length > 0 &&\n                      this._dataPlugins[context][0];\n        if (!plugin) {\n            plugin = this._dataPlugins[\"default\"] &&\n                     this._dataPlugins[\"default\"].length > 0 &&\n                     this._dataPlugins[\"default\"] &&\n                     this._dataPlugins[\"default\"][0];\n        }\n        if (!plugin) {\n            throw Error(`No data plugin found for context '${context}'`);\n        }\n        return plugin;\n    }\n\n    async read(context, key) {\n        const p = this.getDataPlugin(context);\n        const result = await p.read(context, key);\n        return result;\n    }\n\n    async write(context, key, data) {\n        const p = this.getDataPlugin(context);\n        const result = await p.write(context, key, data);\n        return result;\n    }\n\n    async remove(context, key) {\n        const p = this.getDataPlugin(context);\n        const result = await p.remove(context, key);\n        return result;\n    }\n}\n\n", "import Plugin, { loadPluginsOfType } from '../core/Plugin';\n\nexport async function loadCaptionsPlugins(player) {\n    const enabledCaptionsPlugins = [];\n    await loadPluginsOfType(player, \"captions\", async (plugin) => {\n        enabledCaptionsPlugins.push(plugin);\n    });\n\n    for (let i in enabledCaptionsPlugins) {\n        const plugin = enabledCaptionsPlugins[i];\n        const captions = await plugin.getCaptions();\n        const captionsCanvas = player.captionsCanvas;\n        captions.forEach(c => captionsCanvas.addCaptions(c));\n    }\n}\n\nexport default class CaptionsPlugin extends Plugin {\n    get type() { return \"captions\"; }\n    \n    async load() {\n        this.player.log.debug(\"load captions plugin\");\n    }\n\n    async getCaptions() {\n        this.player.log.warn(`CaptionsPlugin ${this.name}: getCaptions() is not implemented.`);\n        return [];\n    }\n}\n", "\nimport { DomClass, createElementWithHtmlText } from '../core/dom';\nimport { loadCaptionsPlugins } from '../captions/CaptionsPlugin';\nimport Events, { bindEvent, triggerEvent } from '../core/Events';\n\nimport '../../css/CaptionCanvas.css';\n\nconst containerSizeClasses = [\n    { maxWidth: 400, className: 'size-s' },\n    { maxWidth: 600, className: 'size-m' },\n    { maxWidth: 900, className: 'size-l' },\n    { maxWidth: 1100, className: 'size-xl' },\n    { className: 'size-xxl' }\n];\nconst getContainerSizeClass = (size) => {\n    return containerSizeClasses\n        .find(item => item.maxWidth && item.maxWidth>=size || item.maxWidth === undefined).className\n}\n\nexport default class CaptionCanvas extends DomClass {\n    constructor(player,parent) {\n        const attributes = {\n            \"class\": \"captions-canvas visible-ui\"\n        };\n        super(player, { tag: 'div', attributes, parent });\n\n        this._captionsContainer = createElementWithHtmlText(`\n            <div class=\"text-container\">\n            </div>\n        `, this.element);\n        \n        this._captions = [];\n\n        this.hide();\n\n        this._currentCaptions = null;\n\n        const timeChanged = evt => {\n            const time = evt.currentTime || evt.newTime || 0;\n            if (this._currentCaptions) {\n                const cue = this._currentCaptions.getCue(time);\n                this._captionsContainer.innerHTML = \"\";\n                cue && cue.captions.forEach(c => {\n                    this._captionsContainer.innerHTML += c;\n                    this._captionsContainer.innerHTML += '<br/>';\n                });\n                cue ? this._captionsContainer.style.display = null : this._captionsContainer.style.display = 'none';\n                this.resize();\n            }\n        };\n\n        bindEvent(this.player, Events.TIMEUPDATE, timeChanged);\n        bindEvent(this.player, Events.SEEK, timeChanged);\n        bindEvent(this.player, Events.RESIZE, () => this.resize());\n        bindEvent(this.player, Events.SHOW_UI, () => this.element.classList.add('visible-ui'));\n        bindEvent(this.player, Events.HIDE_UI, () => this.element.classList.remove('visible-ui'));\n    }\n\n    async load() {\n        await loadCaptionsPlugins(this.player);\n    }\n\n    unload() {        \n    }\n\n    resize() {\n        const sizeClass = getContainerSizeClass(this._captionsContainer.clientWidth);\n        containerSizeClasses.forEach(c => this.element.classList.remove(c.className));\n        this.element.classList.add(sizeClass);\n    }\n\n    addCaptions(captions) {\n        this._captions.push(captions);\n        triggerEvent(this.player, Events.CAPTIONS_CHANGED, { captions: this._captions });\n    }\n\n    get captions() {\n        return this._captions;\n    }\n\n    get currentCaptions() {\n        return this._currentCaptions;\n    }\n\n    getCaptions({ label, index, lang }) {\n        if (label === undefined && index === undefined && lang === undefined) {\n            throw Error(\"Could not find captions: you must specify the label, the index or the language\");\n        }\n\n        if (index !== undefined) {\n            return this._captions[index];\n        }\n        else {\n            return this._captions.find(c => {\n                if (label !== undefined) {\n                    return c.label === label;\n                }\n                else if (lang !== undefined) {\n                    return c.language === lang;\n                }\n            });\n        }\n    }\n\n    enableCaptions(searchOptions) {\n        this._currentCaptions = this.getCaptions(searchOptions);\n        this.show();\n    }\n\n    disableCaptions() {\n        this._currentCaptions = null;\n        this.hide();\n    }\n}", "import Plugin from '../core/Plugin';\nimport { bindEvent } from '../core/Events';\n\nimport { loadPluginsOfType } from '../core/Plugin';\n\nexport async function loadLogEventPlugins(player) {\n    await loadPluginsOfType(player, \"eventLog\", async (plugin) => {\n        plugin.events.forEach(event => {\n            bindEvent(player, event, async (params) => {\n                await plugin.onEvent(event, params);\n            })\n        })\n    });\n}\n\nexport async function unloadLogEventPlugins(player) {\n    console.warn(\"unloadLogEventPlugins: not implemented\");\n}\n\nexport default class EventLogPlugin extends Plugin {\n    get type() { return \"eventLog\"; }\n\n    get events() {\n        return [];\n    }\n\n    async onEvent(event, params) {\n        console.warn(`${this.name}: onEvent() function is not overwritten.`)\n    }\n}\n", "import Plugin, { loadPluginsOfType } from './Plugin';\n\nconst getModifierStatus = sc => {\n    return `alt:${sc.keyModifiers?.altKey || false}, ctrl:${sc.keyModifiers?.ctrlKey || false}, shift:${sc.keyModifiers?.shiftKey || false}`\n}\n\nconst getShortcutHash = (sc) => {\n    const hash = `${sc.keyCode}_${getModifierStatus(sc)}`;\n    return hash;\n}\n\nconst addKeyModifiersObject = sc => {\n    sc.keyModifiers = sc.keyModifiers || {};\n    sc.keyModifiers.altKey = sc.keyModifiers.altKey || false;\n    sc.keyModifiers.shiftKey = sc.keyModifiers.shiftKey || false;\n    sc.keyModifiers.ctrlKey = sc.keyModifiers.ctrlKey || false;\n}\n\nexport const getShortcuts = (player) => {\n    const enabledShortcuts = [];\n    for (const keyCode in player.__shortcuts__) {\n        const shortcut = player.__shortcuts__[keyCode];\n        shortcut.forEach(sc => {\n            if (!sc.disabled) {\n                enabledShortcuts.push(sc);\n            }\n        });\n    }\n    return enabledShortcuts;\n}\n\nexport async function loadKeyShortcutPlugins(player) {\n    player.__shortcuts__ = player.__shortcuts__ || {};\n\n    // If the page contains more than one paella player, the first one to register will be the one that will handle the keyboard shortcuts\n    if (!window.__paella_shortcuts_player__) {\n        window.__paella_shortcuts_player__ = player;\n    }\n    else {\n        player.log.warn(\"Warning: more than one paella player instance with enabled shortcut plugins.\");\n        player.log.warn(\"Check your code to ensure that only one instance of paella player registers keyboard shortcut plugins.\");\n        return;\n    }\n\n    await loadPluginsOfType(player, \"keyshortcut\", async (plugin) => {\n        const shortcuts = await plugin.getKeys();\n        shortcuts.forEach(shortcut => {\n            player.__shortcuts__[shortcut.keyCode] = player.__shortcuts__[shortcut.keyCode] || [];\n            shortcut.plugin = plugin;\n            player.__shortcuts__[shortcut.keyCode].push(shortcut);\n        });\n\n        const dicts = await plugin.getDictionaries();\n        for (const key in dicts) {\n            const dict = dicts[key];\n            player.addDictionary(key, dict);\n        }\n\n        for (const keyCode in player.__shortcuts__) {\n            const shortcuts = player.__shortcuts__[keyCode];\n            const hashes = {};\n            if (shortcuts.length > 0) {\n                shortcuts.forEach(shortcut => {\n                    const hash = getShortcutHash(shortcut);\n                    addKeyModifiersObject(shortcut);\n                    if (!hashes[hash]) {\n                        hashes[hash] = shortcut;\n                    }\n                    else {\n                        player.log.warn(`Collision detected in shortcut for key code ${ keyCode }`);\n                        const enabledShortcut = hashes[hash];\n                        player.log.warn('Enabled shortcut:');\n                        player.log.warn(`plugin: ${enabledShortcut.plugin.name}, keyCode: ${enabledShortcut.keyCode}, modifiers: ${getModifierStatus(enabledShortcut)}, description: ${enabledShortcut.description}`);\n                        player.log.warn('Collision shortcut (disabled):');\n                        player.log.warn(`plugin: ${shortcut.plugin.name}, keyCode: ${shortcut.keyCode}, modifiers: ${getModifierStatus(shortcut)}, description: ${shortcut.description}`);\n                        shortcut.disabled = true;\n                    }\n                })\n            }\n        }\n    });\n\n    player.__paella_key_event_listener__ = async (event) => {\n        const validFocus = () => document.activeElement && document.activeElement !== document.body && !/video/i.test(document.activeElement.tagName);\n\n        // Exclude the action key when there are something focused\n        if (event.code === \"Space\" && validFocus()) {\n            return;\n        }\n        const shortcut = player.__shortcuts__[event.code];\n        if (shortcut) {\n            await shortcut.forEach(async s => {\n                const altStatus = !s.keyModifiers?.altKey || (s.keyModifiers?.altKey && event.altKey);\n                const ctrlStatus = !s.keyModifiers?.ctrlKey || (s.keyModifiers?.ctrlKey && event.ctrlKey);\n                const shiftStatus = !s.keyModifiers?.shiftKey || (s.keyModifiers?.shiftKey && event.shiftKey);\n                if (altStatus && ctrlStatus && shiftStatus && !s.disabled) {\n                    await s.action(event);\n                }\n                else if (altStatus && ctrlStatus && shiftStatus && s.disabled) {\n                    player.log.warn(\"Shortcut not triggered due to collision:\");\n                    player.log.warn(`plugin: ${s.plugin.name}, keyCode: ${s.keyCode}, modifiers: ${getModifierStatus(s)}, description: ${s.description}`);\n                }\n            });\n        }\n    }\n\n    window.addEventListener(\"keyup\", player.__paella_key_event_listener__);\n}\n\nexport async function unloadKeyShortcutPlugins(player) {\n    delete player.__shortcuts__;\n    if (player == window.__paella_shortcuts_player__) {\n        window.removeEventListener(\"keyup\",player.__paella_key_event_listener__);\n        delete window.__paella_key_event_listener__;\n        delete window.__paella_shortcuts_player__;\n    }\n}\n\nexport const KeyCodes = {\n    \"Digit1\": \"Digit1\",\n    \"Digit2\": \"Digit2\",\n    \"Digit3\": \"Digit3\",\n    \"Digit4\": \"Digit4\",\n    \"Digit5\": \"Digit5\",\n    \"Digit6\": \"Digit6\",\n    \"Digit7\": \"Digit7\",\n    \"Digit8\": \"Digit8\",\n    \"Digit9\": \"Digit9\",\n    \"Digit0\": \"Digit0\",\n    \"KeyA\": \"KeyA\",\n    \"KeyB\": \"KeyB\",\n    \"KeyC\": \"KeyC\",\n    \"KeyD\": \"KeyD\",\n    \"KeyE\": \"KeyE\",\n    \"KeyF\": \"KeyF\",\n    \"KeyG\": \"KeyG\",\n    \"KeyH\": \"KeyH\",\n    \"KeyI\": \"KeyI\",\n    \"KeyJ\": \"KeyJ\",\n    \"KeyK\": \"KeyK\",\n    \"KeyL\": \"KeyL\",\n    \"KeyM\": \"KeyM\",\n    \"KeyN\": \"KeyN\",\n    \"KeyO\": \"KeyO\",\n    \"KeyP\": \"KeyP\",\n    \"KeyQ\": \"KeyQ\",\n    \"KeyR\": \"KeyR\",\n    \"KeyS\": \"KeyS\",\n    \"KeyT\": \"KeyT\",\n    \"KeyU\": \"KeyU\",\n    \"KeyV\": \"KeyV\",\n    \"KeyW\": \"KeyW\",\n    \"KeyX\": \"KeyX\",\n    \"KeyY\": \"KeyY\",\n    \"KeyZ\": \"KeyZ\",\n    \"Comma\": \"Comma\",\n    \"Period\": \"Period\",\n    \"Semicolon\": \"Semicolon\",\n    \"Quote\": \"Quote\",\n    \"BracketLeft\": \"BracketLeft\",\n    \"BracketRight\": \"BracketRight\",\n    \"Backquote\": \"Backquote\",\n    \"Backslash\": \"Backslash\",\n    \"Minus\": \"Minus\",\n    \"Equal\": \"Equal\",\n    \"AltLeft\": \"AltLeft\",\n    \"AltRight\": \"AltRight\",\n    \"CapsLock\": \"CapsLock\",\n    \"ControlLeft\": \"ControlLeft\",\n    \"ControlRight\": \"ControlRight\",\n    \"OSLeft\": \"OSLeft\",\n    \"OSRight\": \"OSRight\",\n    \"ShiftLeft\": \"ShiftLeft\",\n    \"ShiftRight\": \"ShiftRight\",\n    \"ContextMenu\": \"ContextMenu\",\n    \"Enter\": \"Enter\",\n    \"Space\": \"Space\",\n    \"Tab\": \"Tab\",\n    \"Delete\": \"Delete\",\n    \"End\": \"End\",\n    \"Help\": \"Help\",\n    \"Home\": \"Home\",\n    \"Insert\": \"Insert\",\n    \"PageDown\": \"PageDown\",\n    \"PageUp\": \"PageUp\",\n    \"ArrowDown\": \"ArrowDown\",\n    \"ArrowLeft\": \"ArrowLeft\",\n    \"ArrowRight\": \"ArrowRight\",\n    \"ArrowUp\": \"ArrowUp\",\n    \"Escape\": \"Escape\",\n    \"PrintScreen\": \"PrintScreen\",\n    \"ScrollLock\": \"ScrollLock\",\n    \"Pause\": \"Pause\"\n};\n\nexport default class KeyShortcutPlugin extends Plugin {\n\n    get type() { return \"keyshortcut\"; }\n\n    /**\n     * \n     * @returns [{ keyCode: KeyCode, keyModifiers: [KeyModifiers], description: string, action: async function }]\n     */\n    async getKeys() {\n\n        return [];\n    }\n\n    async getDictionaries() {\n        return {}\n    }\n}\n", "\nexport const LOG_LEVEL = {\n    DISABLED: 0,\n    ERROR: 1,\n    WARN: 2,\n    INFO: 3,\n    DEBUG: 4,\n    VERBOSE: 5\n};\n\nlet g_globalLogLevel = LOG_LEVEL.INFO;\n\nexport const setLogLevel = (l,player = null) => {\n    const level = typeof(l) === \"string\" ? LOG_LEVEL[l] : l;\n\n    if (level<LOG_LEVEL.DISABLED || level>LOG_LEVEL.VERBOSE) {\n        throw Error(`setLogLevel: invalid log level ${ level }`);\n    }\n    if (player) {\n        player.__logSettings = player.__logSettings || {};\n        player.__logSettings.logLevel = level;\n    }\n    else {\n        g_globalLogLevel = level;\n    }\n}\n\nexport const currentLogLevel = (player = null) => {\n    return player ? player.__logSettings.logLevel : g_globalLogLevel;\n}\n\nexport const printMessage = ({\n    msg,\n    level = LOG_LEVEL.INFO, \n    player = null,\n    context = 'paella-core'\n}) => {\n    if (player && !player.__logSettings) {\n        setLogLevel(player, LOG_LEVEL.INFO);\n    }\n\n    const current = currentLogLevel(player);\n    if (level<LOG_LEVEL.DISABLED) {\n        throw Error(`printMessage: invalid log level ${ level }`);\n    }\n\n    if (level<=current) {\n        switch (level) {\n        case LOG_LEVEL.ERROR:\n            console.error(`${ context } - Error: ${msg}`);\n            break;\n        case LOG_LEVEL.WARN:\n            console.warn(`${ context }  - Warning: ${msg}`);\n            break;\n        case LOG_LEVEL.INFO:\n            console.log(`${ context } - Info: ${msg}`);\n            break;\n        case LOG_LEVEL.DEBUG:\n            console.log(`${ context } - Debug: ${msg}`);\n            break;\n        case LOG_LEVEL.VERBOSE:\n            console.log(`${ context } - Verbose: ${msg}`);\n            break;\n        }\n    }\n};\n\nexport const log = {\n    setLevel: (level, player = null) => {\n        setLogLevel(level, player);\n    },\n\n    currentLevel: (player = null) => {\n        return currentLogLevel(player);\n    },\n\n    error: (msg, player = null, context = 'paella-core') => {\n        printMessage({\n            msg, \n            level: LOG_LEVEL.ERROR, \n            player, \n            context \n        });\n    },\n\n    warn: (msg, player = null, context = 'paella-core') => {\n        printMessage({\n            msg, \n            level: LOG_LEVEL.WARN, \n            player, \n            context \n        });\n    },\n\n    info: (msg, player = null, context = 'paella-core') => {\n        printMessage({\n            msg, \n            level: LOG_LEVEL.INFO, \n            player, \n            context \n        });\n    },\n\n    debug: (msg, player = null, context = 'paella-core') => {\n        printMessage({\n            msg, \n            level: LOG_LEVEL.DEBUG, \n            player, \n            context \n        });\n    },\n\n    verbose: (msg, player = null, context = 'paella-core') => {\n        printMessage({\n            msg, \n            level: LOG_LEVEL.VERBOSE, \n            player, \n            context \n        });\n    }\n}\n\n\nexport default class Log {\n    constructor(player, context = \"paella-core\") {\n        this._player = player;\n        this._context = context;\n    }\n\n    get context() {\n        return this._context;\n    }\n\n    get player() {\n        return this._player;\n    }\n\n    setLevel(level) {\n        log.setLevel(level, this._player);\n    }\n\n    currentLevel() {\n        log.currentLevel(this._player);\n    }\n\n    error(msg, context = null) {\n        log.error(msg, this._player, context || this._context);\n    }\n\n    warn(msg, context = null) {\n        log.warn(msg, this._player, context || this._context);\n    }\n\n    info(msg, context = null) {\n        log.info(msg, this._player, context || this._context);\n    }\n\n    debug(msg, context = null) {\n        log.debug(msg, this._player, context || this._context);\n    }\n\n    verbose(msg, context = null) {\n        log.verbose(msg, this._player, context || this._context);\n    }\n}\n", "\nconst defaultDictionaries = {\n    \"es\": {\n        \"May the force be with you\": \"Que la fuerza te acompa\u00F1e\",\n        \"Digit1\": \"1\",\n        \"Digit2\": \"2\",\n        \"Digit3\": \"3\",\n        \"Digit4\": \"4\",\n        \"Digit5\": \"5\",\n        \"Digit6\": \"6\",\n        \"Digit7\": \"7\",\n        \"Digit8\": \"8\",\n        \"Digit9\": \"9\",\n        \"Digit0\": \"0\",\n        \"KeyA\": \"A\",\n        \"KeyB\": \"B\",\n        \"KeyC\": \"C\",\n        \"KeyD\": \"D\",\n        \"KeyE\": \"E\",\n        \"KeyF\": \"F\",\n        \"KeyG\": \"G\",\n        \"KeyH\": \"H\",\n        \"KeyI\": \"I\",\n        \"KeyJ\": \"J\",\n        \"KeyK\": \"K\",\n        \"KeyL\": \"L\",\n        \"KeyM\": \"M\",\n        \"KeyN\": \"N\",\n        \"KeyO\": \"O\",\n        \"KeyP\": \"P\",\n        \"KeyQ\": \"Q\",\n        \"KeyR\": \"R\",\n        \"KeyS\": \"S\",\n        \"KeyT\": \"T\",\n        \"KeyU\": \"U\",\n        \"KeyV\": \"V\",\n        \"KeyW\": \"W\",\n        \"KeyX\": \"X\",\n        \"KeyY\": \"Y\",\n        \"KeyZ\": \"Z\",\n        \"Comma\": \",\",\n        \"Period\": \".\",\n        \"Semicolon\": \";\",\n        \"Quote\": \"'\",\n        \"BracketLeft\": \"[\",\n        \"BracketRight\": \"]\",\n        \"Backquote\": \"`\",\n        \"Backslash\": \"\\\\\",\n        \"Minus\": \"-\",\n        \"Equal\": \"=\",\n        \"AltLeft\": \"Alt\",\n        \"AltRight\": \"Alt\",\n        \"CapsLock\": \"Bloqueo May.\",\n        \"ControlLeft\": \"Ctrl\",\n        \"ControlRight\": \"Ctrl\",\n        \"OSLeft\": \"OSLeft\",\n        \"OSRight\": \"OSRight\",\n        \"ShiftLeft\": \"May\u00FAsculas\",\n        \"ShiftRight\": \"May\u00FAsculas\",\n        \"ContextMenu\": \"ContextMenu\",\n        \"Enter\": \"Intro\",\n        \"Space\": \"Espacio\",\n        \"Tab\": \"Tabulador\",\n        \"Delete\": \"Borrar\",\n        \"End\": \"Fin\",\n        \"Help\": \"Ayuda\",\n        \"Home\": \"Inicio\",\n        \"Insert\": \"Insertar\",\n        \"PageDown\": \"Re. Pag\",\n        \"PageUp\": \"Av. Pag\",\n        \"ArrowDown\": \"Flecha abajo\",\n        \"ArrowLeft\": \"Flecha izq.\",\n        \"ArrowRight\": \"Flecha der.\",\n        \"ArrowUp\": \"Flecha Arriba\",\n        \"Escape\": \"Escape\",\n        \"PrintScreen\": \"PrintScreen\",\n        \"ScrollLock\": \"ScrollLock\",\n        \"Pause\": \"Pausa\",\n        \"Put the videos side by side\": \"Colocar los v\u00EDdeos uno junto al otro\",\n        \"Minimize video\": \"Minimizar v\u00EDdeo\",\n        \"Place the video on the other side of the screen\": \"Colocar el v\u00EDdeo al otro lado de la pantalla\",\n        \"Maximize video\": \"Maximizar v\u00EDdeo\",\n        \"Swap position of the videos\": \"Intercambiar posici\u00F3n de los v\u00EDdeos\",\n        \"loadManifest(): Invalid current player state: $1\": \"loadManifest(): Estado actual del reproductor no v\u00E1lido: $1\",\n        \"loadPlayer(): Invalid current player state: $1\": \"loadPlayer(): Estado actual del reproductor no v\u00E1lido: $1\",\n        \"Could not load player: state transition in progress: $1\": \"No se puede cargar el reproductor: transici\u00F3n de estado en progreso: $1\",\n        \"Could not unload player: state transition in progress: $1\": \"No se puede descargar el reproductor: transici\u00F3n de estado en progreso $1\",\n        \"unloadManifest(): Invalid current player state: $1\": \"unloadManifest(): Estado actual del reprodutor no v\u00E1lido: $1\",\n        \"Error loading video manifest: $1 $2\": \"Error cargando la informaci\u00F3n del v\u00EDdeo: $1 $2\"\n    }\n}\n\ndefaultDictionaries[\"es-ES\"] = defaultDictionaries[\"es\"];\n\nexport default defaultDictionaries;", "import Paella from './js/Paella';\nimport Events, { bindEvent } from './js/core/Events';\nimport { defaultLoadVideoManifestFunction } from './js/core/initFunctions';\n\nimport './debug.css';\n\n// Objects to store the custom localization dictionaries\nimport g_dictionaries from './js/default-dictionaries.js';\nlet g_currentLanguage = navigator.language.substring(0,2);\n\n// Localization API\nimport {\n\tsetLanguage,\n\taddDictionary\n} from './js/core/Localization';\n\nconst initParams = {\n\tloadVideoManifest: async function(videoManifestUrl,config,player) {\n\t\tplayer.log.debug(config);\n\t\treturn await defaultLoadVideoManifestFunction(videoManifestUrl, config, player);\n\t},\n\n\t// Setup custom localization functions\n\tsetLanguageFunction: lang => g_currentLanguage = lang,\n\tgetLanguageFunction: () => g_currentLanguage,\n\ttranslateFunction: (word) => {\n\t\treturn g_dictionaries[g_currentLanguage] && g_dictionaries[g_currentLanguage][word] || word\n\t},\n\taddDictionaryFunction: (lang, dict) => {\n\t\tg_dictionaries[lang] = g_dictionaries[lang] || {};\n\t\tfor (const key in dict) {\n\t\t\tconst translation = dict[key];\n\t\t\tg_dictionaries[lang][key] = translation;\n\t\t}\n\t},\n\n\tloadDictionaries: (player) => {\n\t\tsetLanguage('es');\n\t\taddDictionary('es', {\n\t\t\t'Rice': 'Arroz',\n\t\t\t'Chicken': 'Pollo',\n\t\t\t'Hello': 'Hola',\n\t\t\t'World': 'Mundo',\n\t\t\t'Test popup button': 'Bot\u00F3n desplegable de prueba'\n\t\t});\n\n\t\t// Or you can use the player object\n\t\tplayer.setLanguage('es');\n\t\tplayer.addDictionary('es', {\n\t\t\t'Rice': 'Arroz',\n\t\t\t'Chicken': 'Pollo',\n\t\t\t'Hello': 'Hola',\n\t\t\t'World': 'Mundo',\n\t\t\t'Test popup button': 'Bot\u00F3n desplegable de prueba'\n\t\t});\n\t}\n\n};\n\nwindow.onload = async () => {\n\n\tlet paella = new Paella('player-container', initParams);\n\t\n\twindow.onhashchange = async (event) => {\n\t\tawait paella.unload();\n\t\tawait paella.loadManifest();\n\t}\n\t\n\tbindEvent(paella, Events.BUTTON_PRESS, (params) => {\n\t\tpaella.log.debug(params);\n\t}, false);\n\t\n\tbindEvent(paella, Events.SHOW_POPUP, (params) => {\n\t\tpaella.log.debug(\"Show popup\");\n\t\tpaella.log.debug(params);\n\t}, false);\n\t\n\tbindEvent(paella, Events.HIDE_POPUP, (params) => {\n\t\tpaella.log.debug(\"Hide popup\");\n\t\tpaella.log.debug(params);\n\t}, false);\n\t\n\tbindEvent(paella, Events.MANIFEST_LOADED, () => {\n\t\tpaella.log.debug(\"Video manifest loaded\");\n\t}, false);\n\t\n\tbindEvent(paella, Events.LAYOUT_CHANGED, () => {\n\t\tpaella.log.debug(\"Layout changed\");\n\t}, false);\n\t\n\tbindEvent(paella, Events.VOLUME_CHANGED, () => {\n\t\tpaella.log.debug(\"Volume changed\");\n\t}, false);\n\t\n\tbindEvent(paella, Events.PLAYER_LOADED, () => {\n\t\tpaella.log.debug(\"============================== Player loaded =================================\");\n\t}, false);\n\n\tbindEvent(paella, Events.HIDE_UI, () => {\n\t\tpaella.log.debug(\"Hide user interface\");\n\t}, false);\n\n\tbindEvent(paella, Events.SHOW_UI, () => {\n\t\tpaella.log.debug(\"Show user interface\");\n\t}, false);\n\n\tpaella.loadManifest()\n\t\t.then(() => paella.log.debug(`${paella.translate(\"Rice\")} ${paella.translate(\"Chicken\")}`))\n\t\t.catch(e => paella.log.error(e));\n};\n"],
  "mappings": "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",
  "names": []
}
